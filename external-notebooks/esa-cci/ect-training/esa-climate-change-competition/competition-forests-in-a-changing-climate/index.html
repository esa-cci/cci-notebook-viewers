<!DOCTYPE html><html lang="en" class="" style="scroll-padding:60px"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Explore forests in a changing climate with the ESA CCI datasets - CCI Examples</title><meta property="og:title" content="Explore forests in a changing climate with the ESA CCI datasets - CCI Examples"/><meta name="generator" content="mystmd"/><meta name="description" content="Collection of examples relevant to the CCI activity"/><meta property="og:description" content="Collection of examples relevant to the CCI activity"/><meta name="keywords" content=""/><meta name="image" content="/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png"/><meta property="og:image" content="/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png"/><link rel="stylesheet" href="/cci-notebook-viewers/build/_assets/app-5WKS5EPQ.css"/><link rel="stylesheet" href="/cci-notebook-viewers/build/_assets/thebe-core-VKVHG5VY.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jupyter-matplotlib@0.11.3/css/mpl_widget.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous"/><link rel="icon" href="/cci-notebook-viewers/favicon.ico"/><link rel="stylesheet" href="/cci-notebook-viewers/myst-theme.css"/><script>
  const savedTheme = localStorage.getItem("myst:theme");
  const theme = window.matchMedia("(prefers-color-scheme: light)").matches ? 'light' : 'dark';
  const classes = document.documentElement.classList;
  const hasAnyTheme = classes.contains('light') || classes.contains('dark');
  if (!hasAnyTheme) classes.add(savedTheme ?? theme);
</script></head><body class="m-0 transition-colors duration-500 bg-white dark:bg-stone-900"><div class="fixed top-1 left-1 h-[0px] w-[0px] focus-within:z-40 focus-within:h-auto focus-within:w-auto bg-white overflow-hidden focus-within:p-2 focus-within:ring-1" aria-label="skip to content options"><a href="#skip-to-frontmatter" class="block px-2 py-1 text-black underline">Skip to article frontmatter</a><a href="#skip-to-article" class="block px-2 py-1 text-black underline">Skip to article content</a></div><div class="bg-white/80 backdrop-blur dark:bg-stone-900/80 shadow dark:shadow-stone-700 p-3 md:px-8 sticky w-screen top-0 z-30 h-[60px]"><nav class="flex items-center justify-between flex-nowrap max-w-[1440px] mx-auto"><div class="flex flex-row xl:min-w-[19.5rem] mr-2 sm:mr-7 justify-start items-center shrink-0"><div class="block lg:hidden"><button class="flex items-center border-stone-400 text-stone-800 hover:text-stone-900 dark:text-stone-200 hover:dark:text-stone-100"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="m-1"><path fill-rule="evenodd" d="M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"></path></svg><span class="sr-only">Open Menu</span></button></div><a class="flex items-center ml-3 dark:text-white w-fit md:ml-5 xl:ml-7" href="/cci-notebook-viewers/"><span class="text-md sm:text-xl tracking-tight sm:mr-5">Made with MyST</span></a></div><div class="flex items-center flex-grow w-auto"><div class="flex-grow hidden text-md lg:block"></div><div class="flex-grow block"></div><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R74op:" data-state="closed" class="flex items-center h-10 aspect-square sm:w-64 text-left text-gray-400 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 hover:ring-blue-500 dark:hover:ring-blue-500 hover:border-blue-500 dark:hover:border-blue-500"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="p-2.5 h-10 w-10 aspect-square"><path fill-rule="evenodd" d="M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z" clip-rule="evenodd"></path></svg><span class="hidden sm:block grow">Search</span><div aria-hidden="true" class="items-center hidden mx-1 font-mono text-sm text-gray-400 sm:flex gap-x-1"><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none hide-mac">CTRL</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none show-mac">⌘</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none ">K</kbd><script>
;(() => {
const script = document.currentScript;
const root = script.parentElement;

const isMac = /mac/i.test(
      window.navigator.userAgentData?.platform ?? window.navigator.userAgent,
    );
root.querySelectorAll(".hide-mac").forEach(node => {node.classList.add(isMac ? "hidden" : "block")});
root.querySelectorAll(".show-mac").forEach(node => {node.classList.add(!isMac ? "hidden" : "block")});
})()</script></div></button><button class="theme rounded-full aspect-square border border-stone-700 dark:border-white hover:bg-neutral-100 border-solid overflow-hidden text-stone-700 dark:text-white hover:text-stone-500 dark:hover:text-neutral-800 w-8 h-8 mx-3" title="Toggle theme between light and dark mode" aria-label="Toggle theme between light and dark mode"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="h-full w-full p-0.5 hidden dark:block"><path fill-rule="evenodd" d="M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z" clip-rule="evenodd"></path></svg><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="h-full w-full p-0.5 dark:hidden"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"></path></svg></button><div class="block sm:hidden"></div><div class="hidden sm:block"></div></div></nav></div><div class="fixed xl:article-grid grid-gap xl:w-screen xl:pointer-events-none overflow-auto max-xl:min-w-[300px] lg:hidden hidden z-10" style="top:60px"><div class="pointer-events-auto xl:col-margin-left flex-col overflow-hidden hidden xl:flex"><div class="flex-grow py-6 overflow-y-auto primary-scrollbar"><nav aria-label="Navigation" class="overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px] lg:hidden"><div class="w-full px-1 dark:text-white font-medium"></div></nav></div></div></div><main class="article-grid grid-gap"><article class="article-grid subgrid-gap col-screen article content"><div class="hidden"></div><div id="skip-to-frontmatter" aria-label="article frontmatter" class="mb-8 pt-9"><div class="flex items-center h-6 mb-5 text-sm font-light"><div class="flex-none pr-2 smallcaps">CCI Examples</div><div class="flex-grow"></div><a href="https://github.com/esa-cci/cci-notebook-viewers" title="GitHub Repository: esa-cci/cci-notebook-viewers" target="_blank" rel="noopener noreferrer" class="text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="inline-block mr-1 opacity-60 hover:opacity-100"><path d="M12 2.5c-5.4 0-9.8 4.4-9.8 9.7 0 4.3 2.8 8 6.7 9.2.5.1.7-.2.7-.5v-1.8c-2.4.5-3.1-.6-3.3-1.1-.1-.3-.6-1.1-1-1.4-.3-.2-.8-.6 0-.6s1.3.7 1.5 1c.9 1.5 2.3 1.1 2.8.8.1-.6.3-1.1.6-1.3-2.2-.2-4.4-1.1-4.4-4.8 0-1.1.4-1.9 1-2.6-.1-.2-.4-1.2.1-2.6 0 0 .8-.3 2.7 1 .8-.2 1.6-.3 2.4-.3.8 0 1.7.1 2.4.3 1.9-1.3 2.7-1 2.7-1 .5 1.3.2 2.3.1 2.6.6.7 1 1.5 1 2.6 0 3.7-2.3 4.6-4.4 4.8.4.3.7.9.7 1.8V21c0 .3.2.6.7.5 3.9-1.3 6.6-4.9 6.6-9.2 0-5.4-4.4-9.8-9.8-9.8z"></path></svg></a><div class="inline-block mr-1"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="inline-block"><title>Jupyter Notebook</title><path d="M20.2 1.7c0 .8-.5 1.4-1.3 1.5-.8 0-1.4-.5-1.5-1.3 0-.8.5-1.4 1.3-1.5.8-.1 1.5.5 1.5 1.3zM12 17.9c-3.7 0-7-1.3-8.7-3.3 1.8 4.8 7.1 7.3 11.9 5.5 2.5-.9 4.5-2.9 5.5-5.5-1.7 2-4.9 3.3-8.7 3.3zM12 5.1c3.7 0 7 1.3 8.7 3.3-1.8-4.8-7.1-7.3-11.9-5.5-2.5.9-4.5 2.9-5.5 5.5 1.7-2 5-3.3 8.7-3.3zM6.9 21.8c.1 1-.7 1.8-1.7 1.9-1 .1-1.8-.7-1.9-1.7 0-1 .7-1.8 1.7-1.9 1-.1 1.8.7 1.9 1.7zM3.7 4.6c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1c0 .5-.4 1-1 1z"></path></svg></div><a href="https://github.com/esa-cci/cci-notebook-viewers/blob/main/external_notebooks/esa-cci/ect-training/ESA_Climate_Change_Competition/Competition_Forests_in_a_Changing_Climate.ipynb" title="Edit This Page" target="_blank" rel="noopener noreferrer" class="text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem" class="inline-block mr-1 opacity-60 hover:opacity-100"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"></path></svg></a><div class="relative flex inline-block mx-1 grow-0" data-headlessui-state=""><button class="relative ml-2 -mr-1" id="headlessui-menu-button-:Rs8top:" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Downloads</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem"><title>Download</title><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"></path></svg></button></div></div><h1 class="mb-0">Explore forests in a changing climate with the ESA CCI datasets</h1></div><div class="block my-10 lg:sticky lg:z-10 lg:h-0 lg:pt-0 lg:my-0 lg:ml-10 lg:col-margin-right" style="top:60px"><nav></nav></div><div id="skip-to-article"></div><div id="dkhuY7FBxV" class="relative group/block"><div class="" style="text-align:center"><h1 id="esa-climate-change-competition-forests-in-a-changing-climate" class="relative group"><span class="heading-text">ESA Climate Change Competition: Forests in a Changing Climate</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#esa-climate-change-competition-forests-in-a-changing-climate" title="Link to this Section" aria-label="Link to this Section">¶</a></h1></div></div><div id="unLI0M8mA7" class="relative group/block"><img id="oUqqZuh7Fn" style="margin:0 auto" src="/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png" alt="CCI_Logo_large.PNG" data-canonical-url="data:image/png;base64,iVBORw0KGg...lFTkSuQmCC" class=""/></div><div id="HKSAAHYGjC" class="relative group/block"><div class="" style="background-color:#e9ecef;padding:10px;border-left:5px solid #e9ecef"><h2 id="welcome-to-the-esa-climate-change-communication-competition" class="relative group"><span class="heading-text">Welcome to the ESA Climate Change Communication Competition</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#welcome-to-the-esa-climate-change-communication-competition" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><h2 id="explore-forests-in-a-changing-climate-with-the-esa-cci-datasets" class="relative group"><span class="heading-text">Explore forests in a changing climate with the ESA CCI datasets</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#explore-forests-in-a-changing-climate-with-the-esa-cci-datasets" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><h3 id="what-youll-learn-in-this-notebook" class="relative group"><span class="heading-text">What You’ll Learn in this Notebook</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#what-youll-learn-in-this-notebook" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>By working through this notebook, you will:</p><ul><li><p>Access and explore CCI datasets using the ESA Climate Toolbox</p></li><li><p>Create regional and temporal subsets of climate variables</p></li><li><p>Visualize different essential climate variables (ECV)</p></li></ul></div></div><div id="spwD7hLdhi" class="relative group/block"><div class="" style="background-color:#e6f3ff;padding:10px;border-left:5px solid #e6f3ff"><h2 id="setup-connect-to-esa-cci" class="relative group"><span class="heading-text">Setup &amp; Connect to ESA CCI</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#setup-connect-to-esa-cci" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>In this section, we import the required Python packages to work with ESA Climate Change Initiative (CCI) data. Most notably, we use the <a target="_blank" rel="noreferrer" href="https://esa-climate-toolbox.readthedocs.io/en/latest/" class="">ESA Climate Toolbox</a> which simplifies access, manipulation, and visualization of CCI datasets in Python.</p><p>These packages allow us to:</p><ul><li><p>Access satellite-based climate data records from ESA.</p></li><li><p>Handle geospatial and temporal dimensions efficiently.</p></li><li><p>Visualize data with intuitive plotting tools.</p></li></ul><p>📚 For a broader introduction to the toolbox and how to install it, visit:<br/> 🔗 <a target="_blank" rel="noreferrer" href="https://esa-climate-toolbox.readthedocs.io/en/latest/quick_start.html#jupyter-notebooks" class="">ESA CCI Climate Toolbox Quick Start</a><br/> 🔗 <a target="_blank" rel="noreferrer" href="https://climate.esa.int/en/data/toolbox/" class="">ESA Climate Data Toolbox Website</a></p></div></div><div id="y0l3tsx1AV" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># ESA Climate Toolbox imports for accessing and plotting ESA CCI data
from esa_climate_toolbox.core import get_op              # Get predefined operations (e.g., time series, averages)
from esa_climate_toolbox.core import list_ecv_datasets   # List available datasets per ECV (Essential Climate Variable)
from esa_climate_toolbox.core import get_store           # Connect to an ESA data store
from esa_climate_toolbox.core import list_datasets       # List all datasets in a store
from esa_climate_toolbox.ops import plot                 # High-level plotting functions for CCI data

# Used for connecting to remote data sources (e.g., ESA CCI ODP)
from xcube.core.store import new_data_store

# For displaying geographic regions interactively (if desired)
from IPython.display import GeoJSON
import shapely.geometry   # Handling geometric objects like bounding boxes

# Core data science libraries
import pandas as pd       # For tabular data handling and time manipulation
import numpy as np        # For numerical operations
import xarray as xr       # For multi-dimensional climate data structures

# Mapping and plotting
import matplotlib.pyplot as plt       # Plotting library
import cartopy.crs as ccrs            # Cartographic projections for spatial data

# Individual colormap creation
from matplotlib.colors import ListedColormap

# Notebook settings
import warnings
warnings.filterwarnings(&quot;ignore&quot;) # Suppressing warnings to keep notebook output clean
%matplotlib inline</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="SO1hN1mmY90hsU6PgEcVf" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="QPLZSufxRT" class="relative group/block"><div class="" style="background-color:#e6f3ff;padding:10px;border-left:5px solid #e6f3ff"><h2 id="zooming-in-defining-a-region-of-interest" class="relative group"><span class="heading-text">Zooming In - Defining a Region of Interest</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#zooming-in-defining-a-region-of-interest" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>The challenge is focussing on tropic biomass. Thus, we can define a <strong>region of interest</strong> that captures parts of the tropical forest, e.g. in the Amazon.</p><p>We can define smaller regions, e.g. north of Bolivia which has experienced some decline in Biomass over the years due to droughts and fires. Another example area is defined around Altamira in Brazil, which experienced a lot deforestation due to agriculture.</p></div></div><div id="MjKjXZeG74" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Set bounding box by defining the longitude minimum, latitude minimum, longitude maximum and latitude maximum
# Example bboxes: 
bbox = (-51.0, -2.8, -50.0, -2) # Altamira region

# bbox = (-63, -15.5, -52, -9) # Larger bounding box -&gt; longer computation time
 
# Display bounding box for reference
GeoJSON(shapely.geometry.box(*bbox).__geo_interface__)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="-MHeSeXblFQ0nRb5z0OW5" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="lCm7dL2O4e" class="relative group/block"><div class="" style="background-color:#e6f3ff;padding:10px;border-left:5px solid #e6f3ff"><h2 id="using-the-esa-climate-toolbox" class="relative group"><span class="heading-text">Using the ESA Climate Toolbox</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#using-the-esa-climate-toolbox" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>The ESA Climate Toolbox provides direct access to the <strong>ESA Climate Data Store</strong>, which hosts harmonized satellite-based climate data records produced under the <strong>ESA Climate Change Initiative (CCI)</strong>.</p><p>In this step, we establish a connection to the data store so we can browse and open datasets. This connection allows us to access data <strong>without having to download files manually</strong> — a convenient way to explore and analyze large geospatial datasets in cloud-friendly formats such as <strong>Zarr</strong> or <strong>Kerchunk</strong>.</p><p>The data store includes a wide range of essential climate variables (ECVs), such as biomass, land surface temperature, burned areas, and soil moisture.</p><p>📘 Learn more about available datasets:<br/> 🔗 <a target="_blank" rel="noreferrer" href="https://esa-climate-toolbox.readthedocs.io/en/latest/quick_start.html#data-access" class="">ESA Climate Data Toolbox – Quick Start Guide</a></p><p>First, we explore how to access the biomass data from the ESA Climate Change Initiative (CCI) data store. This includes identifying datasets of interest, understanding their metadata, and preparing for subsequent analysis.</p></div></div><div id="APdQD85gUS" class="relative group/block"><div class="" style="background-color:#e6f3ff;padding:10px;border-left:5px solid #e6f3ff"><h2 id="explore-the-biomass-dataset" class="relative group"><span class="heading-text">Explore the Biomass Dataset</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#explore-the-biomass-dataset" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Identify the biomass datasets which are available for access. The <code>list_ecv_datasets</code> command returns the names of datasets for a given ECV.</p></div></div><div id="kSLEPAtGjo" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># list_ecv_datasets(&quot;biomass&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="1btg95jA8F270Pb95YJSs" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="gHpX430tLz" class="relative group/block"><div class="" style="background-color:#e6f3ff;padding:10px;border-left:5px solid #e6f3ff"><h3 id="background-zarr-kerchunk-netcdf-format" class="relative group"><span class="heading-text">Background: zarr &amp; kerchunk &amp; NetCDF format</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#background-zarr-kerchunk-netcdf-format" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>For some data it might be a good idea to use the zarr or kerchunk format, as data loading will be much faster. Several CCI data records are available in these formats as they have some advantages. Zarr is ideal for new datasets that will be frequently accessed, updated, or analyzed and it is suitable for large-scale distributed processing in cloud-native workflows. Kerchunk is best for efficiently accessing legacy data formats (e.g., NetCDF, GRIB) stored in object stores without converting them and useful when data duplication must be avoided. NetCDF, while widely used and highly compatible with scientific tools, is less optimized for cloud-native workflows and accessing large datasets efficiently, making it better suited for smaller-scale, traditional file-based analysis.</p><table class=""><tbody><tr class=""><th class=""><strong>Feature</strong></th><th class=""><strong>Zarr</strong></th><th class=""><strong>Kerchunk</strong></th><th class=""><strong>NetCDF</strong></th></tr><tr class=""><td class=""><strong>Storage Format</strong></td><td class="">Self-contained, new format</td><td class="">Wrapper for existing formats</td><td class="">Traditional file-based format</td></tr><tr class=""><td class=""><strong>Cloud-Native</strong></td><td class="">Yes</td><td class="">Yes</td><td class="">No</td></tr><tr class=""><td class=""><strong>Efficiency</strong></td><td class="">Good for accessing subsets</td><td class="">Great for legacy data in object stores</td><td class="">Efficient for small to medium files</td></tr><tr class=""><td class=""><strong>Compression</strong></td><td class="">Supports multiple algorithms</td><td class="">Depends on underlying format</td><td class="">Limited to format-specific methods</td></tr><tr class=""><td class=""><strong>Metadata Handling</strong></td><td class="">Embedded metadata</td><td class="">External JSON index</td><td class="">Embedded in file</td></tr><tr class=""><td class=""><strong>Read/Write Access</strong></td><td class="">Supports both</td><td class="">Read-only</td><td class="">Read and write</td></tr><tr class=""><td class=""><strong>Setup Overhead</strong></td><td class="">None, works out of the box</td><td class="">Requires pre-generated JSON indices</td><td class="">None, but slower for large datasets</td></tr><tr class=""><td class=""><strong>Storage Duplication</strong></td><td class="">Requires duplicating data</td><td class="">Minimal, uses existing files</td><td class="">Minimal, as data is stored in single files</td></tr><tr class=""><td class=""><strong>Performance</strong></td><td class="">Optimized for chunk-based access</td><td class="">Slight overhead for index lookup</td><td class="">Can be slow for very large files</td></tr><tr class=""><td class=""><strong>Selective loading</strong></td><td class="">Not supported, entire dataset must be loaded</td><td class="">Not supported, entire dataset must be loaded</td><td class="">Allows selecting variables and time ranges before loading</td></tr></tbody></table></div></div><div id="yWJhGsEEyp" class="relative group/block"><div class="" style="background-color:#e6f3ff;padding:10px;border-left:5px solid #e6f3ff"></div><h2 id="load-visualise-the-biomass-data" class="relative group"><span class="heading-text">Load &amp; Visualise the Biomass Data</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#load-visualise-the-biomass-data" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><h3 id="define-the-dataset-id" class="relative group"><span class="heading-text">Define the Dataset ID</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#define-the-dataset-id" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>To work with a specific ESA CCI dataset, we need to specify its <strong>dataset ID</strong>. This unique identifier tells the toolbox which variable and product we want to access.</p><p>In this section, we are using a the biomass zarr file. The latest biomass zarr file is only available unti 2020, however, the file will soon be updated.</p><p>You can find the variables of the products under <strong>data_vars</strong>. For the biomass, we will use the variable <strong>agb</strong> which is the abbreviation for <em><strong>above-ground biomass</strong></em>.</p><p>First, we define the dataset ID and the store from which we retrieve the data (for the biomass zarr file it is <code>esa-cci-zarr</code>, if you choose to call the netcdf file, use the <code>esa-cci</code>store). With the command <code>describe_data</code>, we can have a look at the structure of the file, such as time, dimension and the variable stored within.</p></div><div id="peyucZeNqF" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Uncomment the next line, if you want to use the cci store to call a netcdf file
# cci_store = new_data_store(&quot;esa-cci&quot;)

# Defining the esa cci zarr store
cci_zarr_store = new_data_store(&quot;esa-cci-zarr&quot;)

# Defining the data id (see list above from the command list_ecv_datasets
data_id = &#x27;ESACCI-BIOMASS-L4-AGB-MERGED-100m-2010-2020-fv4.0.zarr&#x27;</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="sVpViWitTtGjdHqKvrnBw" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="tUpKuqQwaO" class="relative group/block"><div class="" style="background-color:#e6f3ff;padding:10px;border-left:5px solid #e6f3ff"><h3 id="describe-the-dataset-check-available-variables-and-metadata" class="relative group"><span class="heading-text">Describe the Dataset (Check Available Variables and Metadata)</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#describe-the-dataset-check-available-variables-and-metadata" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Before loading the full dataset, it’s helpful to <strong>inspect the metadata</strong> to understand its structure. This includes:</p><ul><li><p>Available variables (e.g., <strong>above ground biomass</strong> (agb), uncertainty estimates)</p></li><li><p>Temporal and spatial coverage</p></li><li><p>Data format and structure</p></li></ul><p>This step ensures we know what the dataset contains and how to work with it. It also helps confirm that the variable we want to plot or analyze is actually included.</p><p>🛠️ Tip: You can use the description to verify variable names, dimensions (e.g., <code>lat</code>, <code>lon</code>, <code>time</code>), and time coverage.</p><p>📘 More on dataset structure:<br/> 🔗 <a target="_blank" rel="noreferrer" href="https://esa-climate-toolbox.readthedocs.io/en/latest/quick_start.html#accessing-data" class="">ESA Climate Toolbox – Data Access</a></p></div></div><div id="kKA6RuFZFG" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Uncomment the next line if you are using the netcdf file
# cci_store.describe_data(data_id)

# Checking the data structure of the chosen file
cci_zarr_store.describe_data(data_id)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="D0oB3cusP1EisEfX0NW2c" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="i8cVI9NmWD" class="relative group/block"><div class="" style="background-color:#e6f3ff;padding:10px;border-left:5px solid #e6f3ff"><h3 id="open-the-dataset" class="relative group"><span class="heading-text">Open the Dataset</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#open-the-dataset" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Now we open the dataset using the zarr. When using the zarr format, the whole dataset is loaded. We will later use the cci-store where we can define the variables and time range we are interested in. For now, let’s load the entire dataset:</p></div></div><div id="el4sz8uOJo" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">biomass_ds = cci_zarr_store.open_data(
    data_id=data_id
)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="T9ZqZy0Y2oo-9oHzKagiH" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="K6tSvDGjhq" class="relative group/block"><div class="" style="background-color:#e6f3ff;padding:10px;border-left:5px solid #e6f3ff"><h3 id="create-a-spacial-subset-of-the-dataset" class="relative group"><span class="heading-text">Create a Spacial Subset of the Dataset:</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#create-a-spacial-subset-of-the-dataset" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>To focus our analysis on the defined region above, we extract a <strong>spatial subset</strong> from the global dataset. Using the bounding box we defined earlier, the function <code>subset_spatial</code> filters the dataset to include only the relevant area. This helps reduce data volume and enables more targeted visualizations and calculations in the following steps.</p><p>If you would like to retrieve a list of all available operation tools, you can execute:</p><p><code>from esa_climate_toolbox.core import list_operations</code></p><p><code>list_operations()</code></p></div></div><div id="lyUmajPkIE" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">subset_spatial_op = get_op(&#x27;subset_spatial&#x27;)
biomass_sub = subset_spatial_op(ds=biomass_ds, region=bbox)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="1jvEDPJ4E7CoerqkS0BrW" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="GJd5gvycKT" class="relative group/block"><div class="" style="background-color:#e6f3ff;padding:10px;border-left:5px solid #e6f3ff"></div><h3 id="visualize-the-results" class="relative group"><span class="heading-text">Visualize the Results</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#visualize-the-results" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>We now create a simple map plot of the spatial subset and loop it across the years.
This allows us to explore the spatial patterns of the biomass.</p><p>For more interactive and advanced visualizations, check out the <a target="_blank" rel="noreferrer" href="https://climate.esa.int/en/data/toolbox/" class="">ESA Climate Toolbox</a> or the <a target="_blank" rel="noreferrer" href="https://esa-climate-toolbox.readthedocs.io/en/latest/quick_start.html#jupyter-notebooks" class="">Toolbox documentation</a>.</p></div><div id="x7KD9DT5CR" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">import os
script_dir = os.getcwd()  # Gets current working directory
png_dir = os.path.join(script_dir, &#x27;Biomass/&#x27;)
# Create directory if it doesn&#x27;t exist
os.makedirs(png_dir, exist_ok=True)

# Define years to loop through
years = range(2018, 2021)  # you can adapt the range here according to data availability; if you want to include 2020, you need to end the range at 2021

for year in years:
    print(f&quot;Processing year {year}...&quot;)
    
    # Create timestep for biomass (yearly data)
    timestep = f&#x27;{year}-01-01&#x27;
    
    # Load and extract the biomass data
    biomass = biomass_sub[&quot;agb&quot;].sel(time=timestep, method=&#x27;nearest&#x27;).compute()
    time_str = biomass_sub[&#x27;time&#x27;].sel(time=timestep, method=&#x27;nearest&#x27;).dt.strftime(&#x27;%Y&#x27;).item()
    lat = biomass_sub[&quot;lat&quot;]
    lon = biomass_sub[&quot;lon&quot;]
    
    fig = plt.figure(figsize=(12, 6))
    
    # Create two axes with the same projection
    ax = plt.axes(projection=ccrs.PlateCarree())
  
    # Plot biomass, mask the data and only use positive values
    masked_biomass = np.ma.masked_where(biomass &lt;= 0, biomass)
    mesh_biomass = ax.pcolormesh(
        lon, lat, masked_biomass,
        cmap=&quot;YlGn&quot;, shading=&quot;auto&quot;,
        norm=plt.matplotlib.colors.LogNorm(vmin=1, vmax=np.nanpercentile(biomass, 99)) # avoid outliers to darken the colormap unneccessarily by using np.nanpercentile
    )
    # Hide grid lines 
    ax.grid(False)
     # Add year label in upper-right corner
    ax.text(
        -50.9,-2.75, # define location for the text
        str(year),
        color=&#x27;white&#x27;,
        fontsize=28,
        fontweight=&#x27;bold&#x27;,
        transform=ccrs.PlateCarree()
    ) 
    # Save with year in filename
    plt.savefig(os.path.join(png_dir, f&#x27;Biomass_{year}.png&#x27;), bbox_inches=&#x27;tight&#x27;)
    plt.show() # show the plot below the cell
    plt.close()  # Close figure to free memory
    </code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="Dn7QQVM3WhJJ1F_E6I3d3" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="text-sm font-thin font-system"><code><span>Processing year 2018...
</span></code></pre></div><img src="/cci-notebook-viewers/build/ffe3cdfb5e3c357fac2b470a40b1b383.png" alt="&lt;Figure size 1200x600 with 1 Axes&gt;"/><div><pre class="text-sm font-thin font-system"><code><span>Processing year 2019...
</span></code></pre></div><img src="/cci-notebook-viewers/build/3006aa0d9ffde0a1b499f2967d96e12c.png" alt="&lt;Figure size 1200x600 with 1 Axes&gt;"/><div><pre class="text-sm font-thin font-system"><code><span>Processing year 2020...
</span></code></pre></div><img src="/cci-notebook-viewers/build/0176ef06849ae63c873c6c0a58f7fecc.png" alt="&lt;Figure size 1200x600 with 1 Axes&gt;"/></div></div><div id="wN52KW34jP" class="relative group/block"><div class="" style="background-color:#e6f3ff;padding:10px;border-left:5px solid #e6f3ff"></div><h3 id="create-a-gif-from-the-pictures" class="relative group"><span class="heading-text">Create a Gif from the Pictures</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#create-a-gif-from-the-pictures" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Next, we show you how to create a small animation from the produced pictures and save it as gif. This obviously only makes sense if you have produced several plots and saved them in one folder.</p></div><div id="SxmbiDxAlE" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">from PIL import Image
import os
png_dir = &#x27;./Biomass/&#x27;

images = []
for filename in sorted(os.listdir(png_dir)):
    if filename.endswith(&#x27;.png&#x27;):
        img = Image.open(os.path.join(png_dir, filename))
        images.append(img)

images[0].save(
    &#x27;./biomass.gif&#x27;,
    save_all=True,
    append_images=images[1:],
    duration=500,  # milliseconds per frame adjust for your purpose
    loop=0
)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="ameI-UhXfRmXbD3N_t_R6" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="x3KzURX0sU" class="relative group/block"><div class="" style="background-color:#e6f3ff;padding:10px;border-left:5px solid #e6f3ff"><h1 id="land-cover" class="relative group"><span class="heading-text">Land Cover</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#land-cover" title="Link to this Section" aria-label="Link to this Section">¶</a></h1><h2 id="load-and-visualise-the-land-cover-dataset" class="relative group"><span class="heading-text">Load and Visualise the Land Cover Dataset</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#load-and-visualise-the-land-cover-dataset" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Next, we are loading the land cover dataset. The procedure is the same as for the biomass data.</p><p>The land cover classes and their colours are defined below and can be found in the 🔗 <a target="_blank" rel="noreferrer" href="https://climate.esa.int/media/documents/CCI_Land_Cover_PUG_v2.0.pdf" class="">Product User Guide</a>.</p><h3 id="land-cover-classification-system-lccs-the-cci-land-cover-legend" class="relative group"><span class="heading-text">Land Cover Classification System (LCCS) - the CCI-Land Cover legend</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#land-cover-classification-system-lccs-the-cci-land-cover-legend" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><table class=""><tbody><tr class=""><th class="">VALUE</th><th class="">LCCS LABEL</th></tr><tr class=""><td class="">10</td><td class="">Rainfed shrub crops // Rainfed tree crops // Rainfed herbaceous crops</td></tr><tr class=""><td class="">11</td><td class="">Rainfed herbaceous crops</td></tr><tr class=""><td class="">12</td><td class="">Rainfed shrub crops // Rainfed tree crops</td></tr><tr class=""><td class="">20</td><td class="">Irrigated tree crops // Irrigated shrub crops // Irrigated herbaceous crops // Post-flooding cultivation of herbaceous crops</td></tr><tr class=""><td class="">30</td><td class="">Cultivated and managed terrestrial areas / Natural and semi-natural primarily terrestrial vegetation</td></tr><tr class=""><td class="">40</td><td class="">Natural and semi-natural primarily terrestrial vegetation / Cultivated and managed terrestrial areas</td></tr><tr class=""><td class="">50</td><td class="">Broadleaved evergreen closed to open trees // Broadleaved semi-deciduous closed to open trees</td></tr><tr class=""><td class="">60</td><td class="">Broadleaved deciduous closed to open trees</td></tr><tr class=""><td class="">61</td><td class="">Broadleaved deciduous closed (100-40%) trees</td></tr><tr class=""><td class="">62</td><td class="">Broadleaved deciduous open (40-(20-10)%) trees</td></tr><tr class=""><td class="">70</td><td class="">Needleleaved evergreen closed to open trees</td></tr><tr class=""><td class="">71</td><td class="">Needleleaved evergreen closed (100-40%) trees</td></tr><tr class=""><td class="">72</td><td class="">Needleleaved evergreen open (40-(20-10)%) trees</td></tr><tr class=""><td class="">80</td><td class="">Needleleaved deciduous closed to open trees</td></tr><tr class=""><td class="">81</td><td class="">Needleleaved deciduous closed (100-40%) trees</td></tr><tr class=""><td class="">82</td><td class="">Needleleaved deciduous open (40-(20-10)%) trees</td></tr><tr class=""><td class="">90</td><td class="">Broadleaved closed to open trees / Needleleaved closed to open trees</td></tr><tr class=""><td class="">100</td><td class="">Closed to open trees / Closed to open shrubland (thicket) // Herbaceous closed to open vegetation</td></tr><tr class=""><td class="">110</td><td class="">Herbaceous closed to open vegetation // Closed to open trees / Closed to open shrubland (thicket)</td></tr><tr class=""><td class="">120</td><td class="">Broadleaved closed to open shrubland (thicket)</td></tr><tr class=""><td class="">121</td><td class="">Broadleaved Evergreen Closed to Open Thicket // Needleleaved Evergreen Closed to Open Thicket</td></tr><tr class=""><td class="">122</td><td class="">Broadleaved Deciduous Closed to Open Thicket // Needleleaved Deciduous Closed to Open Thicket</td></tr><tr class=""><td class="">130</td><td class="">Herbaceous closed to very open vegetation 21453 A2A20</td></tr><tr class=""><td class="">140</td><td class="">Closed to open lichens/mosses</td></tr><tr class=""><td class="">150</td><td class="">Sparse trees // Herbaceous sparse vegetation // Sparse shrubs</td></tr><tr class=""><td class="">151</td><td class="">Sparse Trees</td></tr><tr class=""><td class="">152</td><td class="">Sparse Shrubs</td></tr><tr class=""><td class="">153</td><td class="">Herbaceous Sparse Vegetation</td></tr><tr class=""><td class="">160</td><td class="">Closed to open (100-40%) broadleaved trees on temporarily flooded land, water quality: fresh water // Closed to open (100-40%) broadleaved trees on permanently flooded land, water quality: fresh water</td></tr><tr class=""><td class="">170</td><td class="">Closed to open (100-40%) broadleaved trees on permanently flooded land (with daily variations), water quality: saline water // Closed to open (100-40%) broadleaved trees on permanently flooded land (with daily variations), water quality: brackish water // Closed to open (100-40%) semi-deciduous shrubland on permanently flooded land (with daily variations), water quality: saline water // Closed to open (100-40%) semi-deciduous shrubland on permanently flooded land (with daily variations), water quality: brackish water</td></tr><tr class=""><td class="">180</td><td class="">Closed to open shrubs on permanently flooded land // Closed to open herbaceous vegetation on permanently flooded land // Closed to open shrubs on temporarily flooded land // Closed to open herbaceous vegetation on temporarily flooded land // Closed to open shrubs on waterlogged soil // Closed to open herbaceous vegetation on waterlogged soil (Water quality: fresh, brackish or saline water)</td></tr><tr class=""><td class="">190</td><td class="">Artificial surfaces and associated areas</td></tr><tr class=""><td class="">200</td><td class="">Bare areas</td></tr><tr class=""><td class="">201</td><td class="">Consolidated Material(s)</td></tr><tr class=""><td class="">202</td><td class="">Unconsolidated Material(s)</td></tr><tr class=""><td class="">210</td><td class="">Natural water bodies // Artificial water bodies</td></tr><tr class=""><td class="">220</td><td class="">Artificial perennial snow // Artificial perennial ice // Perennial snow // Perennial ice</td></tr></tbody></table><p>Next, we define the class IDs, their names and the correct colours for the plotting.</p></div></div><div id="ll3IsEVWci" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Define the LCCS colours according to their ID and names
class_ids = [
    10, 11, 12, 20, 30, 40,           # Cultivated areas
    50, 60, 61, 62,                  # Broadleaved trees
    70, 71, 72,                      # Needleleaved evergreen trees
    80, 81, 82,                      # Needleleaved deciduous trees
    90, 100, 110,                    # Mixed vegetation
    120, 121, 122,                   # Shrubland
    130, 140,                        # Herbaceous and lichens/mosses
    150, 151, 152, 153,              # Sparse vegetation
    160, 170, 180,                   # Aquatic vegetation
    190,                             # Artificial surfaces
    200, 201, 202,                   # Bare areas
    210, 220                         # Water bodies, snow and ice
]
class_names = [
    &quot;Rainfed crops&quot;,                                   # 10
    &quot;Rainfed herbaceous crops&quot;,                        # 11
    &quot;Rainfed shrub/tree crops&quot;,                        # 12
    &quot;Irrigated crops&quot;,                                 # 20
    &quot;Cropland/Natural vegetation mosaic&quot;,              # 30
    &quot;Natural vegetation/Cropland mosaic&quot;,              # 40
    &quot;Broadleaved evergreen/semi-deciduous trees&quot;,      # 50
    &quot;Broadleaved deciduous trees&quot;,                     # 60
    &quot;Broadleaved deciduous closed trees&quot;,              # 61
    &quot;Broadleaved deciduous open trees&quot;,                # 62
    &quot;Needleleaved evergreen trees&quot;,                    # 70
    &quot;Needleleaved evergreen closed trees&quot;,             # 71
    &quot;Needleleaved evergreen open trees&quot;,               # 72
    &quot;Needleleaved deciduous trees&quot;,                    # 80
    &quot;Needleleaved deciduous closed trees&quot;,             # 81
    &quot;Needleleaved deciduous open trees&quot;,               # 82
    &quot;Mixed broadleaved/needleleaved trees&quot;,            # 90
    &quot;Mixed trees/shrubland/herbaceous&quot;,                # 100
    &quot;Herbaceous/trees/shrubland&quot;,                      # 110
    &quot;Shrubland&quot;,                                       # 120
    &quot;Evergreen shrubland&quot;,                             # 121
    &quot;Deciduous shrubland&quot;,                             # 122
    &quot;Grassland&quot;,                                       # 130
    &quot;Lichens and mosses&quot;,                              # 140
    &quot;Sparse vegetation&quot;,                               # 150
    &quot;Sparse trees&quot;,                                    # 151
    &quot;Sparse shrubs&quot;,                                   # 152
    &quot;Sparse herbaceous&quot;,                               # 153
    &quot;Flooded trees (fresh water)&quot;,                     # 160
    &quot;Flooded trees (saline/brackish water)&quot;,           # 170
    &quot;Flooded shrubs/herbaceous&quot;,                       # 180
    &quot;Urban areas&quot;,                                     # 190
    &quot;Bare areas&quot;,                                      # 200
    &quot;Consolidated bare areas&quot;,                         # 201
    &quot;Unconsolidated bare areas&quot;,                       # 202
    &quot;Water bodies&quot;,                                    # 210
    &quot;Snow and ice&quot;                                     # 220
]

colors = [
    &quot;#ffff64&quot;, &quot;#90ee90&quot;, &quot;#228b22&quot;, &quot;#ffd700&quot;,        # Crops (10-12, 20)
    &quot;#daa520&quot;, &quot;#b8860b&quot;,                              # Crop mosaics (30, 40)
    &quot;#006400&quot;, &quot;#228b22&quot;, &quot;#32cd32&quot;, &quot;#7cfc00&quot;,        # Broadleaved trees (50, 60-62)
    &quot;#2f4f4f&quot;, &quot;#708090&quot;, &quot;#778899&quot;,                   # Needleleaved evergreen (70-72)
    &quot;#8b4513&quot;, &quot;#a0522d&quot;, &quot;#cd853f&quot;,                   # Needleleaved deciduous (80-82)
    &quot;#556b2f&quot;, &quot;#6b8e23&quot;, &quot;#9acd32&quot;,                   # Mixed/shrubland (90, 100, 110)
    &quot;#d2691e&quot;, &quot;#ff8c00&quot;, &quot;#ffa500&quot;,                   # Shrubland (120-122)
    &quot;#adff2f&quot;, &quot;#bdb76b&quot;,                              # Grassland, lichens (130, 140)
    &quot;#f5deb3&quot;, &quot;#deb887&quot;, &quot;#d2b48c&quot;, &quot;#bc8f8f&quot;,        # Sparse vegetation (150-153)
    &quot;#4682b4&quot;, &quot;#5f9ea0&quot;, &quot;#20b2aa&quot;,                   # Wetlands (160, 170, 180)
    &quot;#dc143c&quot;,                                         # Urban (190)
    &quot;#f5f5dc&quot;, &quot;#fff8dc&quot;, &quot;#faebd7&quot;,                   # Bare areas (200-202)
    &quot;#4169e1&quot;, &quot;#ffffff&quot;                               # Water, snow/ice (210, 220)
]
</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="pJc-a4_JntFryDjIB4O0u" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="LPBCGoPCF7" class="relative group/block"><div class="" style="background-color:#e6f3ff;padding:10px;border-left:5px solid #e6f3ff">Now let&#x27;s load the dataset and build the subset for the defined bbox.</div></div><div id="fAkAYnV16d" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Land Cover data ID
data_id = &#x27;ESACCI-LC-L4-LCCS-Map-300m-P1Y-1992-2015-v2.0.7b.zarr&#x27; 

lc_ds = cci_zarr_store.open_data(
    data_id = data_id
)
# Building the subset 
subset_spatial_op = get_op(&#x27;subset_spatial&#x27;)
lc_sub = subset_spatial_op(ds=lc_ds, region=bbox)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="YDzFJK81VRiqvuK5Kkoso" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="qOv7aOKUlg" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Define years to loop through
years = range(2018, 2021)  # adapt as needed
cmap = ListedColormap(colors)

for year in years:
    print(f&quot;Processing year {year}...&quot;)
    
    # Create timestep for biomass (yearly data)
    timestep = f&#x27;{year}-01-01&#x27;
    
    # Load and extract the biomass data
    lc = lc_sub[&quot;lccs_class&quot;].sel(time=timestep, method=&#x27;nearest&#x27;).compute()
    time_str = lc_sub[&#x27;time&#x27;].sel(time=timestep, method=&#x27;nearest&#x27;).dt.strftime(&#x27;%Y&#x27;).item()
    lat = lc_sub[&quot;lat&quot;]
    lon = lc_sub[&quot;lon&quot;]
    
    fig = plt.figure(figsize=(12, 6))
    
    # Create two axes with the same projection
    ax = plt.axes(projection=ccrs.PlateCarree())
  
    # Plot lc on first axis
    mesh_biomass = ax.pcolormesh(
        lon, lat, lc,
        cmap=cmap, shading=&quot;auto&quot;,
    )
    # Hide grid lines
    ax.grid(False)
     # Add year label in upper-right corner
    # Add year label in upper-right corner
    ax.text(
        -50.9,-2.75, # define location for the text
        str(year),
        color=&#x27;white&#x27;,
        fontsize=28,
        fontweight=&#x27;bold&#x27;,
        transform=ccrs.PlateCarree()
    )  
    
    # Add custom legend
    from matplotlib.patches import Patch
    # Find the unique land cover classes in the current plotted area to reduce the legend entries
    visible_classes = np.unique(lc.values)

    # Build legend only for classes present in the plot
    legend_handles = [
        Patch(color=colors[class_ids.index(cid)], label=class_names[class_ids.index(cid)])
        for cid in visible_classes if cid in class_ids
    ]
    
    #ax.legend(handles=legend_handles, bbox_to_anchor=(1, 1), loc=&quot;upper right&quot;, ncol=2,fontsize=8)
    plt.show()
        
    # Save with year in filename
    #plt.savefig(f&#x27;./LandCover_{year}.png&#x27;, bbox_inches=&#x27;tight&#x27;)
    #plt.close()  # Close figure to free memory
   </code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="Ym5MYPdswveGrVGec0mcc" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="text-sm font-thin font-system"><code><span>Processing year 2018...
</span></code></pre></div><img src="/cci-notebook-viewers/build/39fe9b0631c4fc51bc559c9141e53fba.png" alt="&lt;Figure size 1200x600 with 1 Axes&gt;"/><div><pre class="text-sm font-thin font-system"><code><span>Processing year 2019...
</span></code></pre></div><img src="/cci-notebook-viewers/build/112ae2bce663ea908f8d2ad818acaa37.png" alt="&lt;Figure size 1200x600 with 1 Axes&gt;"/><div><pre class="text-sm font-thin font-system"><code><span>Processing year 2020...
</span></code></pre></div><img src="/cci-notebook-viewers/build/22e37d2be558f21f9412c2bc82f05811.png" alt="&lt;Figure size 1200x600 with 1 Axes&gt;"/></div></div><div id="KV6u2Jvzpe" class="relative group/block"><div class="" style="background-color:#F5D6AD;padding:10px;border-radius:5px"><h2 id="load-other-essential-climate-variables" class="relative group"><span class="heading-text">Load Other Essential Climate Variables</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#load-other-essential-climate-variables" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Below is a list of datafiles you can use for other ECVs which might be of interest when looking at biomass loss. If you need inspiration or tipps on how to visualise the parameters, you can have a look at the individual Jupyter Notebooks for each ECV either in the Example Explorer or on 🔗 <a target="_blank" rel="noreferrer" href="https://github.com/esa-cci/cci-notebooks/tree/main/notebooks" class="">GitHub</a>.</p><h3 id="fire" class="relative group"><span class="heading-text">Fire</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#fire" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p><code>data_id = &#x27;ESACCI-L4_FIRE-BA-MODIS-2001-2022-fv5.1.zarr&#x27;</code></p><h3 id="clouds" class="relative group"><span class="heading-text">Clouds</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#clouds" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p><code>data_id = &#x27;ESACCI-L3C_CLOUD-CLD_PRODUCTS-AVHRR_NOAA-1982-2016-fv3.0.zarr&#x27;</code></p><h3 id="land-surface-temperature-lst" class="relative group"><span class="heading-text">Land Surface Temperature (LST)</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#land-surface-temperature-lst" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p><code>data_id = &#x27;ESACCI-LST-L3S-LST-IRCDR_-0.01deg_1MONTHLY_DAY-1995-2020-fv3.00.zarr&#x27;</code></p><h3 id="greenhouse-gases-ghg-co2" class="relative group"><span class="heading-text">Greenhouse Gases (GHG) - CO2</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#greenhouse-gases-ghg-co2" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p><code>data_id = &#x27;ESACCI-GHG-L2-CO2-SCIAMACHY-WFMD-2002-2012-fv1.zarr&#x27;</code></p><h3 id="water-vapour" class="relative group"><span class="heading-text">Water Vapour</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#water-vapour" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p><code>data_id = &#x27;ESACCI-WATERVAPOUR-L3C-TCWV-meris-005deg-2002-2017-fv3.2.zarr&#x27;</code></p></div></div><div></div></article></main><script>((a,d)=>{if(!window.history.state||!window.history.state.key){let h=Math.random().toString(32).slice(2);window.history.replaceState({key:h},"")}try{let f=JSON.parse(sessionStorage.getItem(a)||"{}")[d||window.history.state.key];typeof f=="number"&&window.scrollTo(0,f)}catch(h){console.error(h),sessionStorage.removeItem(a)}})("positions", null)</script><link rel="modulepreload" href="/cci-notebook-viewers/build/entry.client-UNPC4GT3.js"/><link rel="modulepreload" href="/cci-notebook-viewers/build/_shared/chunk-OCTKKCIL.js"/><link rel="modulepreload" href="/cci-notebook-viewers/build/_shared/chunk-UAI5KRM7.js"/><link rel="modulepreload" href="/cci-notebook-viewers/build/_shared/chunk-2NH4LW52.js"/><link rel="modulepreload" href="/cci-notebook-viewers/build/_shared/chunk-XWET6RJ7.js"/><link rel="modulepreload" href="/cci-notebook-viewers/build/_shared/chunk-HBJK6BW3.js"/><link rel="modulepreload" href="/cci-notebook-viewers/build/_shared/chunk-HYMQ7M2K.js"/><link rel="modulepreload" href="/cci-notebook-viewers/build/_shared/chunk-OHOXABTA.js"/><link rel="modulepreload" href="/cci-notebook-viewers/build/_shared/chunk-OCWQY3HK.js"/><link rel="modulepreload" href="/cci-notebook-viewers/build/_shared/chunk-C7FW3E47.js"/><link rel="modulepreload" href="/cci-notebook-viewers/build/_shared/chunk-3CVK3PYF.js"/><link rel="modulepreload" href="/cci-notebook-viewers/build/_shared/chunk-J6FHCSRC.js"/><link rel="modulepreload" href="/cci-notebook-viewers/build/_shared/chunk-ND43KHSX.js"/><link rel="modulepreload" href="/cci-notebook-viewers/build/_shared/chunk-GUCIBHGO.js"/><link rel="modulepreload" href="/cci-notebook-viewers/build/root-ZJOPFBMV.js"/><link rel="modulepreload" href="/cci-notebook-viewers/build/_shared/chunk-NFM2H3KQ.js"/><link rel="modulepreload" href="/cci-notebook-viewers/build/routes/$-CQPS5IOR.js"/><script>window.__remixContext = {"url":"/external-notebooks/esa-cci/ect-training/esa-climate-change-competition/competition-forests-in-a-changing-climate","state":{"loaderData":{"root":{"config":{"version":2,"myst":"1.6.0","options":{"hide_toc":true,"hide_footer_links":true,"folders":true},"nav":[],"actions":[],"projects":[{"subject":"CCI Examples","title":"CCI Examples","description":"Collection of examples relevant to the CCI activity","github":"https://github.com/esa-cci/cci-notebook-viewers","id":"5aa0318b-5bc1-41e2-b1d4-053e8b61961b","exports":[],"bibliography":[],"index":"readme","pages":[{"title":"External Notebooks","level":1},{"title":"Esa Cci","level":2},{"title":"Cci Notebooks","level":3},{"slug":"external-notebooks.esa-cci.cci-notebooks.readme","title":"cci-notebooks","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Notebooks","level":4},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.aerosol-cci","title":"Getting Started with Aerosol CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.biomass-cci","title":"Getting Started with Biomass CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.cloud-cci","title":"Getting Started with Cloud CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.fire-cci","title":"Getting Started with Fire CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.ghg-cci","title":"Getting Started with Greenhouse Gases CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.icesheets-cci","title":"Getting Started with Ice Sheets CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.lakes-cci","title":"Getting Started with Lakes CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.landcover-cci","title":"Getting Started with Land Cover CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.lst-cci","title":"Getting Started with Land Surface Temperature CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.oceancolour-cci","title":"Getting Started with Ocean Colour CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.ozone-cci","title":"Getting Started with Ozone CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.permafrost-cci","title":"Getting Started with Permafrost CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.seaice-cci","title":"Getting Started with Sea Ice CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.sealevel-cci","title":"Getting Started with Sea Level CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.snow-cci","title":"Getting Started with Snow CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.soilmoisture-cci","title":"Getting Started with Soil Moisture CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.sss-cci","title":"Getting Started with Sea Surface Salinity CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.sst-cci","title":"Getting Started with Sea Surface Temperature CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.vegetation-cci","title":"Getting Started with Vegetation CCI Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.watervapour-cci","title":"Getting Started with Water Vapour CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"title":"Ect Training","level":3},{"slug":"external-notebooks.esa-cci.ect-training.readme","title":"ect-training","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"ESA Climate Change Competition","level":4},{"slug":"external-notebooks.esa-cci.ect-training.esa-climate-change-competition.competition-forests-in-a-changing-climate","title":"Explore forests in a changing climate with the ESA CCI datasets","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"title":"Lps Vienna 06 2025","level":4},{"slug":"external-notebooks.esa-cci.ect-training.lps-vienna-06-2025.lps-beginner","title":"Step 1. Setup \u0026 Imports","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/3367d0fe69599d226222995bf18e04c0.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.ect-training.lps-vienna-06-2025.lps-cloud-uncertainties","title":"1. Import Necessary Packages","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/3367d0fe69599d226222995bf18e04c0.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.ect-training.lps-vienna-06-2025.lps-intermediate-level-elnino","title":"Questions We Aim to Explore","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/3367d0fe69599d226222995bf18e04c0.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"title":"Lst Leicester 12 2024","level":4},{"slug":"external-notebooks.esa-cci.ect-training.lst-leicester-12-2024.lst-training","title":"Analyzing Land Surface Temperature and Uncertainties: Insights from ESA CCI Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5}]}]},"CONTENT_CDN_PORT":"3100","MODE":"static","BASE_URL":"/cci-notebook-viewers"},"routes/$":{"config":{"version":2,"myst":"1.6.0","options":{"hide_toc":true,"hide_footer_links":true,"folders":true},"nav":[],"actions":[],"projects":[{"subject":"CCI Examples","title":"CCI Examples","description":"Collection of examples relevant to the CCI activity","github":"https://github.com/esa-cci/cci-notebook-viewers","id":"5aa0318b-5bc1-41e2-b1d4-053e8b61961b","exports":[],"bibliography":[],"index":"readme","pages":[{"title":"External Notebooks","level":1},{"title":"Esa Cci","level":2},{"title":"Cci Notebooks","level":3},{"slug":"external-notebooks.esa-cci.cci-notebooks.readme","title":"cci-notebooks","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Notebooks","level":4},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.aerosol-cci","title":"Getting Started with Aerosol CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.biomass-cci","title":"Getting Started with Biomass CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.cloud-cci","title":"Getting Started with Cloud CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.fire-cci","title":"Getting Started with Fire CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.ghg-cci","title":"Getting Started with Greenhouse Gases CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.icesheets-cci","title":"Getting Started with Ice Sheets CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.lakes-cci","title":"Getting Started with Lakes CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.landcover-cci","title":"Getting Started with Land Cover CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.lst-cci","title":"Getting Started with Land Surface Temperature CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.oceancolour-cci","title":"Getting Started with Ocean Colour CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.ozone-cci","title":"Getting Started with Ozone CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.permafrost-cci","title":"Getting Started with Permafrost CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.seaice-cci","title":"Getting Started with Sea Ice CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.sealevel-cci","title":"Getting Started with Sea Level CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.snow-cci","title":"Getting Started with Snow CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.soilmoisture-cci","title":"Getting Started with Soil Moisture CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.sss-cci","title":"Getting Started with Sea Surface Salinity CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.sst-cci","title":"Getting Started with Sea Surface Temperature CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.vegetation-cci","title":"Getting Started with Vegetation CCI Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.watervapour-cci","title":"Getting Started with Water Vapour CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"title":"Ect Training","level":3},{"slug":"external-notebooks.esa-cci.ect-training.readme","title":"ect-training","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"ESA Climate Change Competition","level":4},{"slug":"external-notebooks.esa-cci.ect-training.esa-climate-change-competition.competition-forests-in-a-changing-climate","title":"Explore forests in a changing climate with the ESA CCI datasets","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"title":"Lps Vienna 06 2025","level":4},{"slug":"external-notebooks.esa-cci.ect-training.lps-vienna-06-2025.lps-beginner","title":"Step 1. Setup \u0026 Imports","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/3367d0fe69599d226222995bf18e04c0.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.ect-training.lps-vienna-06-2025.lps-cloud-uncertainties","title":"1. Import Necessary Packages","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/3367d0fe69599d226222995bf18e04c0.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.ect-training.lps-vienna-06-2025.lps-intermediate-level-elnino","title":"Questions We Aim to Explore","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/3367d0fe69599d226222995bf18e04c0.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"title":"Lst Leicester 12 2024","level":4},{"slug":"external-notebooks.esa-cci.ect-training.lst-leicester-12-2024.lst-training","title":"Analyzing Land Surface Temperature and Uncertainties: Insights from ESA CCI Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5}]}]},"page":{"version":2,"kind":"Notebook","sha256":"9e8d1ccc130caefa227dcd9d486c9799b518c1c96b4e75ecc9a9f8b35581bb81","slug":"external-notebooks.esa-cci.ect-training.esa-climate-change-competition.competition-forests-in-a-changing-climate","location":"/external_notebooks/esa-cci/ect-training/ESA_Climate_Change_Competition/Competition_Forests_in_a_Changing_Climate.ipynb","dependencies":[],"frontmatter":{"title":"Explore forests in a changing climate with the ESA CCI datasets","content_includes_title":true,"kernelspec":{"name":"python3","display_name":"Python 3 (ipykernel)","language":"python"},"github":"https://github.com/esa-cci/cci-notebook-viewers","subject":"CCI Examples","numbering":{"title":{"offset":4}},"edit_url":"https://github.com/esa-cci/cci-notebook-viewers/blob/main/external_notebooks/esa-cci/ect-training/ESA_Climate_Change_Competition/Competition_Forests_in_a_Changing_Climate.ipynb","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","exports":[{"format":"ipynb","filename":"Competition_Forests_in_a_Changing_Climate.ipynb","url":"/cci-notebook-viewers/build/Competition_Forests_-6c51112a0562f0c4d649f2854f1eb7e6.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"div","style":{"textAlign":"center"},"children":[{"type":"heading","depth":1,"children":[{"type":"text","value":"ESA Climate Change Competition: Forests in a Changing Climate","key":"ALI7jlZnEe"}],"identifier":"esa-climate-change-competition-forests-in-a-changing-climate","label":"ESA Climate Change Competition: Forests in a Changing Climate","html_id":"esa-climate-change-competition-forests-in-a-changing-climate","implicit":true,"key":"dwugKoGEJ2"}],"key":"No1KsN80jz"}],"key":"dkhuY7FBxV"},{"type":"block","kind":"notebook-content","children":[{"type":"image","url":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","alt":"CCI_Logo_large.PNG","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"oUqqZuh7Fn","urlSource":"data:image/png;base64,iVBORw0KGg...lFTkSuQmCC"}],"key":"unLI0M8mA7"},{"type":"block","kind":"notebook-content","children":[{"type":"div","style":{"backgroundColor":"#e9ecef","padding":"10px","borderLeft":"5px solid #e9ecef"},"children":[{"type":"heading","depth":2,"children":[{"type":"text","value":"Welcome to the ESA Climate Change Communication Competition","key":"WhnJZ9iR1t"}],"identifier":"welcome-to-the-esa-climate-change-communication-competition","label":"Welcome to the ESA Climate Change Communication Competition","html_id":"welcome-to-the-esa-climate-change-communication-competition","implicit":true,"key":"PHCFN1qIPT"},{"type":"heading","depth":2,"children":[{"type":"text","value":"Explore forests in a changing climate with the ESA CCI datasets","key":"cZEPZs6WyG"}],"identifier":"explore-forests-in-a-changing-climate-with-the-esa-cci-datasets","label":"Explore forests in a changing climate with the ESA CCI datasets","html_id":"explore-forests-in-a-changing-climate-with-the-esa-cci-datasets","implicit":true,"key":"BZSCKMlzvP"},{"type":"heading","depth":3,"children":[{"type":"text","value":"What You’ll Learn in this Notebook","key":"xcfD5OZngS"}],"identifier":"what-youll-learn-in-this-notebook","label":"What You’ll Learn in this Notebook","html_id":"what-youll-learn-in-this-notebook","implicit":true,"key":"IParzt2m6R"},{"type":"paragraph","children":[{"type":"text","value":"By working through this notebook, you will:","key":"TkV4OtcXXj"}],"key":"e7xMtQGWjW"},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Access and explore CCI datasets using the ESA Climate Toolbox","key":"hG7NUAnvPi"}],"key":"foMttobZqB"}],"key":"aDAChZrBA9"},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Create regional and temporal subsets of climate variables","key":"fNJKkSCl5I"}],"key":"OZ9cudhfTQ"}],"key":"gPXzsKbU0F"},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Visualize different essential climate variables (ECV)","key":"YgWzHXngRH"}],"key":"EpW749dpt5"}],"key":"oGXF1ejy47"}],"key":"e7tB03S2GN"}],"key":"y8Vxx0Cmiw"}],"key":"HKSAAHYGjC"},{"type":"block","kind":"notebook-content","children":[{"type":"div","style":{"backgroundColor":"#e6f3ff","padding":"10px","borderLeft":"5px solid #e6f3ff"},"children":[{"type":"heading","depth":2,"children":[{"type":"text","value":"Setup \u0026 Connect to ESA CCI","key":"I2eFshKpx9"}],"identifier":"setup-connect-to-esa-cci","label":"Setup \u0026 Connect to ESA CCI","html_id":"setup-connect-to-esa-cci","implicit":true,"key":"upGQqnHfxw"},{"type":"paragraph","children":[{"type":"text","value":"In this section, we import the required Python packages to work with ESA Climate Change Initiative (CCI) data. Most notably, we use the ","key":"gFGvPnnIk5"},{"type":"link","url":"https://esa-climate-toolbox.readthedocs.io/en/latest/","children":[{"type":"text","value":"ESA Climate Toolbox","key":"Ianqt9W4fR"}],"urlSource":"https://esa-climate-toolbox.readthedocs.io/en/latest/","key":"LUWuHyt2Gq"},{"type":"text","value":" which simplifies access, manipulation, and visualization of CCI datasets in Python.","key":"hVrX7w9Yo6"}],"key":"y8Oyt8j0NU"},{"type":"paragraph","children":[{"type":"text","value":"These packages allow us to:","key":"rabMkGRF2e"}],"key":"p4jioub9WS"},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Access satellite-based climate data records from ESA.","key":"hZH51UqufG"}],"key":"cP7r7tQ6q5"}],"key":"W5sWkFrQ4A"},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Handle geospatial and temporal dimensions efficiently.","key":"GLITmfSGTK"}],"key":"rKWZTvf9re"}],"key":"WVlnjqZm4H"},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Visualize data with intuitive plotting tools.","key":"CU9UB2dCL6"}],"key":"GQq1iLEhcw"}],"key":"a9iAx1SpJC"}],"key":"PQxwpCR6hP"},{"type":"paragraph","children":[{"type":"text","value":"📚 For a broader introduction to the toolbox and how to install it, visit:","key":"OKAwyRP7lr"},{"type":"break","key":"I8347BJUKp"},{"type":"text","value":" 🔗 ","key":"K3VYu1cAMv"},{"type":"link","url":"https://esa-climate-toolbox.readthedocs.io/en/latest/quick_start.html#jupyter-notebooks","children":[{"type":"text","value":"ESA CCI Climate Toolbox Quick Start","key":"Ib3cMxmZ2n"}],"urlSource":"https://esa-climate-toolbox.readthedocs.io/en/latest/quick_start.html#jupyter-notebooks","key":"poQeqYWmZ0"},{"type":"break","key":"X1PvChFd7n"},{"type":"text","value":" 🔗 ","key":"rvKuxZ41QE"},{"type":"link","url":"https://climate.esa.int/en/data/toolbox/","children":[{"type":"text","value":"ESA Climate Data Toolbox Website","key":"Bzga3OH9AQ"}],"urlSource":"https://climate.esa.int/en/data/toolbox/","key":"WtguBbuCGt"}],"key":"J9IXgKEqaS"}],"key":"AQatxZRH48"}],"key":"spwD7hLdhi"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# ESA Climate Toolbox imports for accessing and plotting ESA CCI data\nfrom esa_climate_toolbox.core import get_op              # Get predefined operations (e.g., time series, averages)\nfrom esa_climate_toolbox.core import list_ecv_datasets   # List available datasets per ECV (Essential Climate Variable)\nfrom esa_climate_toolbox.core import get_store           # Connect to an ESA data store\nfrom esa_climate_toolbox.core import list_datasets       # List all datasets in a store\nfrom esa_climate_toolbox.ops import plot                 # High-level plotting functions for CCI data\n\n# Used for connecting to remote data sources (e.g., ESA CCI ODP)\nfrom xcube.core.store import new_data_store\n\n# For displaying geographic regions interactively (if desired)\nfrom IPython.display import GeoJSON\nimport shapely.geometry   # Handling geometric objects like bounding boxes\n\n# Core data science libraries\nimport pandas as pd       # For tabular data handling and time manipulation\nimport numpy as np        # For numerical operations\nimport xarray as xr       # For multi-dimensional climate data structures\n\n# Mapping and plotting\nimport matplotlib.pyplot as plt       # Plotting library\nimport cartopy.crs as ccrs            # Cartographic projections for spatial data\n\n# Individual colormap creation\nfrom matplotlib.colors import ListedColormap\n\n# Notebook settings\nimport warnings\nwarnings.filterwarnings(\"ignore\") # Suppressing warnings to keep notebook output clean\n%matplotlib inline","key":"xLv5kqdpre"},{"type":"output","id":"SO1hN1mmY90hsU6PgEcVf","data":[],"key":"g3CdRy3tDI"}],"key":"y0l3tsx1AV"},{"type":"block","kind":"notebook-content","children":[{"type":"div","style":{"backgroundColor":"#e6f3ff","padding":"10px","borderLeft":"5px solid #e6f3ff"},"children":[{"type":"heading","depth":2,"children":[{"type":"text","value":"Zooming In - Defining a Region of Interest","key":"vdpizbCbtA"}],"identifier":"zooming-in-defining-a-region-of-interest","label":"Zooming In - Defining a Region of Interest","html_id":"zooming-in-defining-a-region-of-interest","implicit":true,"key":"YZOw1U0PiC"},{"type":"paragraph","children":[{"type":"text","value":"The challenge is focussing on tropic biomass. Thus, we can define a ","key":"ZbxqtiJ8Ie"},{"type":"strong","children":[{"type":"text","value":"region of interest","key":"godrqK2o8v"}],"key":"dyk8QILkU5"},{"type":"text","value":" that captures parts of the tropical forest, e.g. in the Amazon.","key":"ug3w0Ftrjv"}],"key":"x7Uwb3mBnx"},{"type":"paragraph","children":[{"type":"text","value":"We can define smaller regions, e.g. north of Bolivia which has experienced some decline in Biomass over the years due to droughts and fires. Another example area is defined around Altamira in Brazil, which experienced a lot deforestation due to agriculture.","key":"cMbiKQiY9S"}],"key":"nqLe7m33y7"}],"key":"tSusqVVa70"}],"key":"QPLZSufxRT"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Set bounding box by defining the longitude minimum, latitude minimum, longitude maximum and latitude maximum\n# Example bboxes: \nbbox = (-51.0, -2.8, -50.0, -2) # Altamira region\n\n# bbox = (-63, -15.5, -52, -9) # Larger bounding box -\u003e longer computation time\n \n# Display bounding box for reference\nGeoJSON(shapely.geometry.box(*bbox).__geo_interface__)","key":"INbqfWKm6h"},{"type":"output","id":"-MHeSeXblFQ0nRb5z0OW5","data":[{"output_type":"display_data","metadata":{"application/geo+json":{"expanded":false,"root":"root"}},"data":{"application/geo+json":{"content":"{\"coordinates\":[[[-50,-2.8],[-50,-2],[-51,-2],[-51,-2.8],[-50,-2.8]]],\"type\":\"Polygon\"}","content_type":"application/geo+json"},"text/plain":{"content":"\u003cIPython.display.GeoJSON object\u003e","content_type":"text/plain"}}}],"key":"XeQazzZ6yR"}],"key":"MjKjXZeG74"},{"type":"block","kind":"notebook-content","children":[{"type":"div","style":{"backgroundColor":"#e6f3ff","padding":"10px","borderLeft":"5px solid #e6f3ff"},"children":[{"type":"heading","depth":2,"children":[{"type":"text","value":"Using the ESA Climate Toolbox","key":"Dzaks1foXd"}],"identifier":"using-the-esa-climate-toolbox","label":"Using the ESA Climate Toolbox","html_id":"using-the-esa-climate-toolbox","implicit":true,"key":"QPvOVd9ADz"},{"type":"paragraph","children":[{"type":"text","value":"The ESA Climate Toolbox provides direct access to the ","key":"ESxk6OxlpY"},{"type":"strong","children":[{"type":"text","value":"ESA Climate Data Store","key":"ut8sj7W4N6"}],"key":"KJAiiuCLrm"},{"type":"text","value":", which hosts harmonized satellite-based climate data records produced under the ","key":"fB21kogOgh"},{"type":"strong","children":[{"type":"text","value":"ESA Climate Change Initiative (CCI)","key":"W4fEYVz10n"}],"key":"JpMM3Xh8Tn"},{"type":"text","value":".","key":"PZkqngCOBt"}],"key":"b00jh6TTHu"},{"type":"paragraph","children":[{"type":"text","value":"In this step, we establish a connection to the data store so we can browse and open datasets. This connection allows us to access data ","key":"pANt2PWR9J"},{"type":"strong","children":[{"type":"text","value":"without having to download files manually","key":"gw5A5yZHz4"}],"key":"kQ2y2jiVOO"},{"type":"text","value":" — a convenient way to explore and analyze large geospatial datasets in cloud-friendly formats such as ","key":"sseYk1tQ2i"},{"type":"strong","children":[{"type":"text","value":"Zarr","key":"BdQcb3pkWx"}],"key":"TXF9IAPz1U"},{"type":"text","value":" or ","key":"pnkLrToy7l"},{"type":"strong","children":[{"type":"text","value":"Kerchunk","key":"jej20ihEr7"}],"key":"iG2OYctqet"},{"type":"text","value":".","key":"pXWYlM98VZ"}],"key":"zsk4ZeFXQU"},{"type":"paragraph","children":[{"type":"text","value":"The data store includes a wide range of essential climate variables (ECVs), such as biomass, land surface temperature, burned areas, and soil moisture.","key":"QnxOQVthdc"}],"key":"HplZoFLZue"},{"type":"paragraph","children":[{"type":"text","value":"📘 Learn more about available datasets:","key":"i7zAEOQbqX"},{"type":"break","key":"Dx3ehiTJKd"},{"type":"text","value":" 🔗 ","key":"akmmkDiWHE"},{"type":"link","url":"https://esa-climate-toolbox.readthedocs.io/en/latest/quick_start.html#data-access","children":[{"type":"text","value":"ESA Climate Data Toolbox – Quick Start Guide","key":"aSo7jVsAPH"}],"urlSource":"https://esa-climate-toolbox.readthedocs.io/en/latest/quick_start.html#data-access","key":"SQZtMMesrf"}],"key":"Og33pWerHo"},{"type":"paragraph","children":[{"type":"text","value":"First, we explore how to access the biomass data from the ESA Climate Change Initiative (CCI) data store. This includes identifying datasets of interest, understanding their metadata, and preparing for subsequent analysis.","key":"iTTNTZhgfu"}],"key":"mW5wxpmwas"}],"key":"wA8v2OsrYB"}],"key":"lCm7dL2O4e"},{"type":"block","kind":"notebook-content","children":[{"type":"div","style":{"backgroundColor":"#e6f3ff","padding":"10px","borderLeft":"5px solid #e6f3ff"},"children":[{"type":"heading","depth":2,"children":[{"type":"text","value":"Explore the Biomass Dataset","key":"IzmV4WCCMy"}],"identifier":"explore-the-biomass-dataset","label":"Explore the Biomass Dataset","html_id":"explore-the-biomass-dataset","implicit":true,"key":"N0wQ1Xi7Lg"},{"type":"paragraph","children":[{"type":"text","value":"Identify the biomass datasets which are available for access. The ","key":"d9qRplM0N6"},{"type":"inlineCode","value":"list_ecv_datasets","key":"nT8KH53qN5"},{"type":"text","value":" command returns the names of datasets for a given ECV.","key":"AhX2tkIWdy"}],"key":"ApAxslq8Pd"}],"key":"ZYfq1q6Y7K"}],"key":"APdQD85gUS"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# list_ecv_datasets(\"biomass\")","key":"iRfHYSO62B"},{"type":"output","id":"1btg95jA8F270Pb95YJSs","data":[],"key":"AdROAWBkDe"}],"key":"kSLEPAtGjo"},{"type":"block","kind":"notebook-content","children":[{"type":"div","style":{"backgroundColor":"#e6f3ff","padding":"10px","borderLeft":"5px solid #e6f3ff"},"children":[{"type":"heading","depth":3,"children":[{"type":"text","value":"Background: zarr \u0026 kerchunk \u0026 NetCDF format","key":"cjuHaakSKq"}],"identifier":"background-zarr-kerchunk-netcdf-format","label":"Background: zarr \u0026 kerchunk \u0026 NetCDF format","html_id":"background-zarr-kerchunk-netcdf-format","implicit":true,"key":"djHEi2rbLA"},{"type":"paragraph","children":[{"type":"text","value":"For some data it might be a good idea to use the zarr or kerchunk format, as data loading will be much faster. Several CCI data records are available in these formats as they have some advantages. Zarr is ideal for new datasets that will be frequently accessed, updated, or analyzed and it is suitable for large-scale distributed processing in cloud-native workflows. Kerchunk is best for efficiently accessing legacy data formats (e.g., NetCDF, GRIB) stored in object stores without converting them and useful when data duplication must be avoided. NetCDF, while widely used and highly compatible with scientific tools, is less optimized for cloud-native workflows and accessing large datasets efficiently, making it better suited for smaller-scale, traditional file-based analysis.","key":"G8t8NXs2Qa"}],"key":"vZ25ey14pu"},{"type":"table","children":[{"type":"tableRow","children":[{"type":"tableCell","header":true,"children":[{"type":"strong","children":[{"type":"text","value":"Feature","key":"os4m4qG8DF"}],"key":"sUOcrtZO3f"}],"key":"kITjOBD1gN"},{"type":"tableCell","header":true,"children":[{"type":"strong","children":[{"type":"text","value":"Zarr","key":"AiXUJRh2hM"}],"key":"anJHRuNNyb"}],"key":"fHErzDjBJp"},{"type":"tableCell","header":true,"children":[{"type":"strong","children":[{"type":"text","value":"Kerchunk","key":"c9p9QzsDGY"}],"key":"tgfuGuyiH2"}],"key":"DUlsZGu3KM"},{"type":"tableCell","header":true,"children":[{"type":"strong","children":[{"type":"text","value":"NetCDF","key":"NoQKJIR1sQ"}],"key":"JLZWepLoaa"}],"key":"VVoqbd51xz"}],"key":"cXjqKq8lXT"},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"strong","children":[{"type":"text","value":"Storage Format","key":"rAHG6JiR2q"}],"key":"mNA2mRIAXr"}],"key":"L5fNNQ9h3C"},{"type":"tableCell","children":[{"type":"text","value":"Self-contained, new format","key":"vYHsE1XZeA"}],"key":"Pd3IMPjoVk"},{"type":"tableCell","children":[{"type":"text","value":"Wrapper for existing formats","key":"JTMOLV7zWu"}],"key":"j9ZHjIUYAi"},{"type":"tableCell","children":[{"type":"text","value":"Traditional file-based format","key":"miODq4zT37"}],"key":"ukA7z8GxQP"}],"key":"WGyou7LRMg"},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"strong","children":[{"type":"text","value":"Cloud-Native","key":"fNA1zsasNv"}],"key":"G5ewpdEpVx"}],"key":"cQrjiEUeJ8"},{"type":"tableCell","children":[{"type":"text","value":"Yes","key":"ldzn6zQVLw"}],"key":"ssd1VZJ5AW"},{"type":"tableCell","children":[{"type":"text","value":"Yes","key":"ZeAfpn9Q3O"}],"key":"ROADQurT0f"},{"type":"tableCell","children":[{"type":"text","value":"No","key":"ExAA3MoLQO"}],"key":"LZE0mXEska"}],"key":"AiHGKOZaAG"},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"strong","children":[{"type":"text","value":"Efficiency","key":"gD1BnhIYyy"}],"key":"lnKgo2sZEA"}],"key":"alt4zLF7Rz"},{"type":"tableCell","children":[{"type":"text","value":"Good for accessing subsets","key":"Cxnf3JxLlK"}],"key":"Y8aYSzsk6A"},{"type":"tableCell","children":[{"type":"text","value":"Great for legacy data in object stores","key":"O2Zj8gG5Vb"}],"key":"Q68SyCPjhg"},{"type":"tableCell","children":[{"type":"text","value":"Efficient for small to medium files","key":"WpvIjZ4mBB"}],"key":"AkUXwzy8vZ"}],"key":"aLZVjkN7nw"},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"strong","children":[{"type":"text","value":"Compression","key":"yMYWdX8nE9"}],"key":"r6NUEl377J"}],"key":"xXatPl0t04"},{"type":"tableCell","children":[{"type":"text","value":"Supports multiple algorithms","key":"bxkoy5Yyux"}],"key":"MqY5dxxDI3"},{"type":"tableCell","children":[{"type":"text","value":"Depends on underlying format","key":"mN8VlQDDTq"}],"key":"rUwM4ItZN7"},{"type":"tableCell","children":[{"type":"text","value":"Limited to format-specific methods","key":"WLR5FVnll6"}],"key":"nbtWfevbc5"}],"key":"zZcoRgjbYx"},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"strong","children":[{"type":"text","value":"Metadata Handling","key":"Uj9oazcGGt"}],"key":"KMRmTYjJJR"}],"key":"tP9AXspSGL"},{"type":"tableCell","children":[{"type":"text","value":"Embedded metadata","key":"nAJoySVWJn"}],"key":"bWJF0ChXYK"},{"type":"tableCell","children":[{"type":"text","value":"External JSON index","key":"hAIx6i02Zy"}],"key":"xQPxyL4iG7"},{"type":"tableCell","children":[{"type":"text","value":"Embedded in file","key":"itriCuXqrw"}],"key":"T1xmNZDo56"}],"key":"P2o2Lc27GY"},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"strong","children":[{"type":"text","value":"Read/Write Access","key":"INmIrnWtQt"}],"key":"fSwwkigs8V"}],"key":"eqhWKiPhj9"},{"type":"tableCell","children":[{"type":"text","value":"Supports both","key":"RizM21p8JS"}],"key":"QkFJrJd2xJ"},{"type":"tableCell","children":[{"type":"text","value":"Read-only","key":"nRoGLUGYSf"}],"key":"UbicDnzp6N"},{"type":"tableCell","children":[{"type":"text","value":"Read and write","key":"VhQmYMoOi9"}],"key":"VilTa8fw9w"}],"key":"d4kpu6aNTU"},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"strong","children":[{"type":"text","value":"Setup Overhead","key":"MsGSOkPGTO"}],"key":"DkMIbep8zL"}],"key":"C4qsbQko0d"},{"type":"tableCell","children":[{"type":"text","value":"None, works out of the box","key":"aTNW9vsaMl"}],"key":"Q2TrSTyTXC"},{"type":"tableCell","children":[{"type":"text","value":"Requires pre-generated JSON indices","key":"IGiaICmdMy"}],"key":"JYte0B3pon"},{"type":"tableCell","children":[{"type":"text","value":"None, but slower for large datasets","key":"MgamW8PUaN"}],"key":"pHAAMXW5Nf"}],"key":"RSoV1UbuMS"},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"strong","children":[{"type":"text","value":"Storage Duplication","key":"DNSF1tUwKl"}],"key":"JoGvai1w8E"}],"key":"CLK76hqW4e"},{"type":"tableCell","children":[{"type":"text","value":"Requires duplicating data","key":"Wgy9At8t6c"}],"key":"N5Juv4duJl"},{"type":"tableCell","children":[{"type":"text","value":"Minimal, uses existing files","key":"UDQyj086gR"}],"key":"SxYzhep3lW"},{"type":"tableCell","children":[{"type":"text","value":"Minimal, as data is stored in single files","key":"yrIlsdJWPq"}],"key":"RvsE3T27tC"}],"key":"Pad5L1WNI3"},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"strong","children":[{"type":"text","value":"Performance","key":"TKR0R1D9s4"}],"key":"FwT8Fh3IHM"}],"key":"DHr4Bn5UVk"},{"type":"tableCell","children":[{"type":"text","value":"Optimized for chunk-based access","key":"QSkBd8vx7b"}],"key":"B7qXfpGrik"},{"type":"tableCell","children":[{"type":"text","value":"Slight overhead for index lookup","key":"cFxAvuQwgq"}],"key":"jRXArXz8ch"},{"type":"tableCell","children":[{"type":"text","value":"Can be slow for very large files","key":"YN8SXwqeVm"}],"key":"RSsSBdheMh"}],"key":"xVVApLnRRA"},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"strong","children":[{"type":"text","value":"Selective loading","key":"TnBxQANxWf"}],"key":"F0fKtCPkQu"}],"key":"sVdRRDo0Qd"},{"type":"tableCell","children":[{"type":"text","value":"Not supported, entire dataset must be loaded","key":"xgLFIO451C"}],"key":"H71NjsfDU3"},{"type":"tableCell","children":[{"type":"text","value":"Not supported, entire dataset must be loaded","key":"mPsDn3Yd1D"}],"key":"J4nb8WKtG9"},{"type":"tableCell","children":[{"type":"text","value":"Allows selecting variables and time ranges before loading","key":"gSyckVJsdu"}],"key":"jNgWLKfCUU"}],"key":"mmSUYpdQN1"}],"key":"cVgQRhcYqx"}],"key":"i3lwOiG0mU"}],"key":"gHpX430tLz"},{"type":"block","kind":"notebook-content","children":[{"type":"div","style":{"backgroundColor":"#e6f3ff","padding":"10px","borderLeft":"5px solid #e6f3ff"},"children":[],"key":"KyWXIEIOGC"},{"type":"heading","depth":2,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Load \u0026 Visualise the Biomass Data","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"LhRb0keFi2"}],"identifier":"load-visualise-the-biomass-data","label":"Load \u0026 Visualise the Biomass Data","html_id":"load-visualise-the-biomass-data","implicit":true,"key":"ZIoxasHkBf"},{"type":"heading","depth":3,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Define the Dataset ID","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"yabjrFtddf"}],"identifier":"define-the-dataset-id","label":"Define the Dataset ID","html_id":"define-the-dataset-id","implicit":true,"key":"LJM9GLgIMo"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"To work with a specific ESA CCI dataset, we need to specify its ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"YbP1UOo6k9"},{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"dataset ID","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"WVngnXqn09"}],"key":"KQJEEdBHuh"},{"type":"text","value":". This unique identifier tells the toolbox which variable and product we want to access.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"fVdT5UStwU"}],"key":"WGvQJkgVum"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"In this section, we are using a the biomass zarr file. The latest biomass zarr file is only available unti 2020, however, the file will soon be updated.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"K9mGEKvJcN"}],"key":"r8del2QFCz"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"You can find the variables of the products under ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"JVYbcBnW1g"},{"type":"strong","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"data_vars","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"oIRa11WfeI"}],"key":"oZ3jrENxu5"},{"type":"text","value":". For the biomass, we will use the variable ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"Otp5Ljnafz"},{"type":"strong","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"agb","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"nuKV0Eadup"}],"key":"mwq8LVDnU7"},{"type":"text","value":" which is the abbreviation for ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"l5FwmV5acD"},{"type":"emphasis","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"strong","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"above-ground biomass","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"xO1nGhzQeY"}],"key":"ISAH5rh7uU"}],"key":"h8mVjncVQd"},{"type":"text","value":".","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"JoNnMwRYWe"}],"key":"LH55HgJ8Ky"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"First, we define the dataset ID and the store from which we retrieve the data (for the biomass zarr file it is ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"nsDmV8SirO"},{"type":"inlineCode","value":"esa-cci-zarr","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"xn2m2ewYOk"},{"type":"text","value":", if you choose to call the netcdf file, use the ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"kELsXrwirt"},{"type":"inlineCode","value":"esa-cci","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"Vk64vcr8zL"},{"type":"text","value":"store). With the command ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"LgiGUxGTFl"},{"type":"inlineCode","value":"describe_data","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"n75hJqzbZE"},{"type":"text","value":", we can have a look at the structure of the file, such as time, dimension and the variable stored within.","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"wIF731vfJM"}],"key":"f2aZccH9Tn"}],"key":"yWJhGsEEyp"},{"type":"block","kind":"notebook-code","data":{"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"# Uncomment the next line, if you want to use the cci store to call a netcdf file\n# cci_store = new_data_store(\"esa-cci\")\n\n# Defining the esa cci zarr store\ncci_zarr_store = new_data_store(\"esa-cci-zarr\")\n\n# Defining the data id (see list above from the command list_ecv_datasets\ndata_id = 'ESACCI-BIOMASS-L4-AGB-MERGED-100m-2010-2020-fv4.0.zarr'","key":"XJ0aor0EnK"},{"type":"output","id":"sVpViWitTtGjdHqKvrnBw","data":[],"key":"X2bfPmAJS3"}],"key":"peyucZeNqF"},{"type":"block","kind":"notebook-content","children":[{"type":"div","style":{"backgroundColor":"#e6f3ff","padding":"10px","borderLeft":"5px solid #e6f3ff"},"children":[{"type":"heading","depth":3,"children":[{"type":"text","value":"Describe the Dataset (Check Available Variables and Metadata)","key":"Rqhx7WSshF"}],"identifier":"describe-the-dataset-check-available-variables-and-metadata","label":"Describe the Dataset (Check Available Variables and Metadata)","html_id":"describe-the-dataset-check-available-variables-and-metadata","implicit":true,"key":"gKfqK3LHBb"},{"type":"paragraph","children":[{"type":"text","value":"Before loading the full dataset, it’s helpful to ","key":"nXY3V40K59"},{"type":"strong","children":[{"type":"text","value":"inspect the metadata","key":"yeprP9c4Ji"}],"key":"LvURh70HRA"},{"type":"text","value":" to understand its structure. This includes:","key":"fOC879THoV"}],"key":"olkQEm6dXO"},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Available variables (e.g., ","key":"lTBaQOrZ7g"},{"type":"strong","children":[{"type":"text","value":"above ground biomass","key":"FcE5veodoG"}],"key":"uALtG8D8hI"},{"type":"text","value":" (agb), uncertainty estimates)","key":"csmAOIw2he"}],"key":"nTNqSTH8bW"}],"key":"Rt8rPNXCcn"},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Temporal and spatial coverage","key":"OBHToQSm7y"}],"key":"WCsxy9q5NL"}],"key":"X8qOJNxhZ2"},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Data format and structure","key":"g7qZeAy1dw"}],"key":"ZvcUXt0ms7"}],"key":"tFAcuaX8l6"}],"key":"mmJoYHxHgh"},{"type":"paragraph","children":[{"type":"text","value":"This step ensures we know what the dataset contains and how to work with it. It also helps confirm that the variable we want to plot or analyze is actually included.","key":"vpaVPzSGMj"}],"key":"qKvm12Iue4"},{"type":"paragraph","children":[{"type":"text","value":"🛠️ Tip: You can use the description to verify variable names, dimensions (e.g., ","key":"Y98tdo61St"},{"type":"inlineCode","value":"lat","key":"a7TWS1yknf"},{"type":"text","value":", ","key":"H65COJTeQ9"},{"type":"inlineCode","value":"lon","key":"o2mo0i9ejO"},{"type":"text","value":", ","key":"xjekkNLjGA"},{"type":"inlineCode","value":"time","key":"HRLQsPZZ4o"},{"type":"text","value":"), and time coverage.","key":"wMr94hvisS"}],"key":"XB9pWwOJA1"},{"type":"paragraph","children":[{"type":"text","value":"📘 More on dataset structure:","key":"vQFzKf51aN"},{"type":"break","key":"JzfxXtq9lh"},{"type":"text","value":" 🔗 ","key":"oczoROr5XP"},{"type":"link","url":"https://esa-climate-toolbox.readthedocs.io/en/latest/quick_start.html#accessing-data","children":[{"type":"text","value":"ESA Climate Toolbox – Data Access","key":"ERawlp2cK7"}],"urlSource":"https://esa-climate-toolbox.readthedocs.io/en/latest/quick_start.html#accessing-data","key":"pp668pVe9J"}],"key":"SZ2sv1EyPN"}],"key":"oMVTLYgBK2"}],"key":"tUpKuqQwaO"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Uncomment the next line if you are using the netcdf file\n# cci_store.describe_data(data_id)\n\n# Checking the data structure of the chosen file\ncci_zarr_store.describe_data(data_id)","key":"H0yTC0b8xZ"},{"type":"output","id":"D0oB3cusP1EisEfX0NW2c","data":[{"output_type":"execute_result","execution_count":22,"metadata":{},"data":{"application/json":{"content":"{\"attrs\":{\"Conventions\":\"CF-1.7\",\"EPSG\":\"4326\",\"GeoTransform\":\"-180   0.00088888888888                  0                 80                  0  -0.00088888888888\",\"catalogue_url\":\"https://catalogue.ceda.ac.uk/uuid/84403d09cef3485883158f4df2989b0c\",\"cdm_data_type\":\"INT\",\"comment\":\"These data were produced at ESA CCI as part of the ESA Biomass CCI project.\",\"creator_email\":\"santoro@gamma-rs.ch\",\"creator_name\":\"GAMMA Remote Sensing\",\"creator_url\":\"www.gamma-rs.ch\",\"date_created\":\"21-Mar-2023 06:16:52\",\"false_easting\":0,\"false_northing\":0,\"format_version\":\"CCI Data Standards v2.1\",\"geospatial_lat_max\":\"80\",\"geospatial_lat_min\":\"-60\",\"geospatial_lat_resolution\":\"0.00088889\",\"geospatial_lat_units\":\"degrees_north\",\"geospatial_lon_max\":\"180\",\"geospatial_lon_min\":\"-180\",\"geospatial_lon_resolution\":\"0.00088889\",\"geospatial_lon_units\":\"degrees_east\",\"geospatial_vertical_max\":\"0.0\",\"geospatial_vertical_min\":\"0.0\",\"grid_mapping_name\":\"latitude_longitude\",\"history\":\"AGB estimation with BIOMASAR-L, v202301, AGB estimation with BIOMASAR-C, v202301, Merging of AGB estimates, v202301\",\"id\":\"ESACCI-BIOMASS-L4-AGB-MERGED-100m-2020-fv4.0.nc\",\"institution\":\"GAMMA Remote Sensing\",\"inverse_flattening\":298.257223563,\"key_variables\":\"agb\",\"keywords\":\"satellite, observation, forest, biomass\",\"keywords_vocabulary\":\"NASA Global Change Master Directory (GCMD) Science Keywords\",\"license\":\"ESA CCI Data Policy: free and open access\",\"long_name\":\"CRS definition\",\"longitude_of_prime_meridian\":0,\"naming authority\":\"ch.gamma-rs\",\"platform\":\"ALOS-2, Sentinel-1A, Sentinel-1B\",\"product_version\":\"4.0\",\"proj4\":\"+proj=longlat +datum=WGS84 +no_defs\",\"project\":\"Climate Change Initiative - European Space Agency\",\"references\":\"http://cci.esa.int/biomass\",\"semi_major_axis\":6378137,\"sensor\":\"PALSAR-2, SAR-C\",\"source\":\"ALOS-2 PALSAR-2 FB and WB mosaics, Sentinel-1 GRD\",\"spatial_ref\":\"GEOGCS[\\\"WGS 84\\\",DATUM[\\\"WGS_1984\\\",SPHEROID[\\\"WGS 84\\\",6378137,298.257223563,AUTHORITY[\\\"EPSG\\\",\\\"7030\\\"]],AUTHORITY[\\\"EPSG\\\",\\\"6326\\\"]],PRIMEM[\\\"Greenwich\\\",0],UNIT[\\\"degree\\\",0.0174532925199433],AUTHORITY[\\\"EPSG\\\",\\\"4326\\\"]]\",\"spatial_resolution\":\"100 m\",\"standard_name_vocabulary\":\"NetCDF Climate and Forecast (CF) Metadata Convention version 67\",\"summary\":\"This dataset contains a global map of above-ground biomass of the epoch 2020 obtained from L-and C-band spaceborne SAR backscatter, placed onto a regular grid.\",\"time_coverage_duration\":\"P1Y\",\"time_coverage_end\":\"20201231T000000Z\",\"time_coverage_resolution\":\"P1Y\",\"time_coverage_start\":\"20100101T000000Z\",\"title\":\"ESA CCI above-ground biomass product level 4, year 2020\",\"tracking_id\":\"cd5cb1d2-e582-41ab-a0fc-637f050baf9e\"},\"bbox\":[-180,-59.9999999986,179.9999999964,80],\"coords\":{\"lat\":{\"attrs\":{\"bounds\":\"lat_bnds\",\"long_name\":\"WGS84 latitude coordinate\",\"standard_name\":\"latitude\",\"units\":\"degrees_north\",\"valid_max\":80,\"valid_min\":-60},\"dims\":[\"lat\"],\"dtype\":\"float64\",\"name\":\"lat\"},\"lat_bnds\":{\"chunks\":[1575,2],\"dims\":[\"lat\",\"nv\"],\"dtype\":\"float64\",\"name\":\"lat_bnds\"},\"lon\":{\"attrs\":{\"bounds\":\"lon_bnds\",\"long_name\":\"WGS84 longitude coordinate\",\"standard_name\":\"longitude\",\"units\":\"degrees_east\",\"valid_max\":180,\"valid_min\":-180},\"dims\":[\"lon\"],\"dtype\":\"float64\",\"name\":\"lon\"},\"lon_bnds\":{\"chunks\":[2025,2],\"dims\":[\"lon\",\"nv\"],\"dtype\":\"float64\",\"name\":\"lon_bnds\"},\"time\":{\"dims\":[\"time\"],\"dtype\":\"datetime64[ns]\",\"name\":\"time\"},\"time_bnds\":{\"chunks\":[1,2],\"dims\":[\"time\",\"nv\"],\"dtype\":\"datetime64[ns]\",\"name\":\"time_bnds\"}},\"data_id\":\"ESACCI-BIOMASS-L4-AGB-MERGED-100m-2010-2020-fv4.0.zarr\",\"data_type\":\"dataset\",\"data_vars\":{\"agb\":{\"attrs\":{\"ancillary_variables\":\"agb_se\",\"grid_mapping\":\"crs\",\"long_name\":\"Above-ground biomass\",\"units\":\"Mg/ha\",\"valid_max\":10000,\"valid_min\":0},\"chunks\":[1,1575,2025],\"dims\":[\"time\",\"lat\",\"lon\"],\"dtype\":\"float32\",\"name\":\"agb\"},\"agb_se\":{\"attrs\":{\"grid_mapping\":\"crs\",\"long_name\":\"Above-ground biomass standard_error\",\"units\":\"Mg/ha\",\"valid_max\":10000,\"valid_min\":0},\"chunks\":[1,1575,2025],\"dims\":[\"time\",\"lat\",\"lon\"],\"dtype\":\"float32\",\"name\":\"agb_se\"}},\"dims\":{\"lat\":157500,\"lon\":405000,\"nv\":2,\"time\":5},\"spatial_res\":0.0008888888888805013,\"time_range\":[\"2010-01-01\",\"2020-12-31\"]}","content_type":"application/json"},"text/plain":{"content":"\u003cxcube.core.store.descriptor.DatasetDescriptor at 0x7f8d04516660\u003e","content_type":"text/plain"}}}],"key":"ncQN2DP7rO"}],"key":"kKA6RuFZFG"},{"type":"block","kind":"notebook-content","children":[{"type":"div","style":{"backgroundColor":"#e6f3ff","padding":"10px","borderLeft":"5px solid #e6f3ff"},"children":[{"type":"heading","depth":3,"children":[{"type":"text","value":"Open the Dataset","key":"UKkCe2fzD4"}],"identifier":"open-the-dataset","label":"Open the Dataset","html_id":"open-the-dataset","implicit":true,"key":"BbYuJm5DvF"},{"type":"paragraph","children":[{"type":"text","value":"Now we open the dataset using the zarr. When using the zarr format, the whole dataset is loaded. We will later use the cci-store where we can define the variables and time range we are interested in. For now, let’s load the entire dataset:","key":"sLfhsZ0dt4"}],"key":"MDCWIwzxP3"}],"key":"scqqt9Wlo1"}],"key":"i8cVI9NmWD"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"biomass_ds = cci_zarr_store.open_data(\n    data_id=data_id\n)","key":"zZ83YULee8"},{"type":"output","id":"T9ZqZy0Y2oo-9oHzKagiH","data":[],"key":"dSKg2fR5EY"}],"key":"el4sz8uOJo"},{"type":"block","kind":"notebook-content","children":[{"type":"div","style":{"backgroundColor":"#e6f3ff","padding":"10px","borderLeft":"5px solid #e6f3ff"},"children":[{"type":"heading","depth":3,"children":[{"type":"text","value":"Create a Spacial Subset of the Dataset:","key":"OYbyZfHBR1"}],"identifier":"create-a-spacial-subset-of-the-dataset","label":"Create a Spacial Subset of the Dataset:","html_id":"create-a-spacial-subset-of-the-dataset","implicit":true,"key":"jB5SKNrouf"},{"type":"paragraph","children":[{"type":"text","value":"To focus our analysis on the defined region above, we extract a ","key":"u4P5E9pXQM"},{"type":"strong","children":[{"type":"text","value":"spatial subset","key":"IlnFCQirK6"}],"key":"Ue0omOn7i6"},{"type":"text","value":" from the global dataset. Using the bounding box we defined earlier, the function ","key":"U4gPTpM5Ih"},{"type":"inlineCode","value":"subset_spatial","key":"IWzrFz3rpo"},{"type":"text","value":" filters the dataset to include only the relevant area. This helps reduce data volume and enables more targeted visualizations and calculations in the following steps.","key":"dmKrrA7Hd3"}],"key":"jH91GeS550"},{"type":"paragraph","children":[{"type":"text","value":"If you would like to retrieve a list of all available operation tools, you can execute:","key":"WV6Lasq5fh"}],"key":"A0ZVWetfK8"},{"type":"paragraph","children":[{"type":"inlineCode","value":"from esa_climate_toolbox.core import list_operations","key":"Gmj6BvQ33q"}],"key":"He11Sgpswo"},{"type":"paragraph","children":[{"type":"inlineCode","value":"list_operations()","key":"IV8kUCqxCn"}],"key":"qJEL5lj7jT"}],"key":"PWmt5vSEkB"}],"key":"K6tSvDGjhq"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"subset_spatial_op = get_op('subset_spatial')\nbiomass_sub = subset_spatial_op(ds=biomass_ds, region=bbox)","key":"qC369RiuDh"},{"type":"output","id":"1jvEDPJ4E7CoerqkS0BrW","data":[],"key":"QWCwCExuhA"}],"key":"lyUmajPkIE"},{"type":"block","kind":"notebook-content","children":[{"type":"div","style":{"backgroundColor":"#e6f3ff","padding":"10px","borderLeft":"5px solid #e6f3ff"},"children":[],"key":"zykHYAX8ce"},{"type":"heading","depth":3,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Visualize the Results","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"hzsvZkUqlK"}],"identifier":"visualize-the-results","label":"Visualize the Results","html_id":"visualize-the-results","implicit":true,"key":"kdFXqGb8FA"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"We now create a simple map plot of the spatial subset and loop it across the years.\nThis allows us to explore the spatial patterns of the biomass.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"XORqLF5mCC"}],"key":"iLQXvS9hvi"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"For more interactive and advanced visualizations, check out the ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"IaaoR2ZYMf"},{"type":"link","url":"https://climate.esa.int/en/data/toolbox/","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"ESA Climate Toolbox","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"ImZ71CDTkQ"}],"urlSource":"https://climate.esa.int/en/data/toolbox/","key":"pVpyZVo03Q"},{"type":"text","value":" or the ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"ZylJreWax8"},{"type":"link","url":"https://esa-climate-toolbox.readthedocs.io/en/latest/quick_start.html#jupyter-notebooks","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Toolbox documentation","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"mCJ88tPgGP"}],"urlSource":"https://esa-climate-toolbox.readthedocs.io/en/latest/quick_start.html#jupyter-notebooks","key":"KqqadLeyAl"},{"type":"text","value":".","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"ZK6Ja4T1Jj"}],"key":"RmKkoC5X5c"}],"key":"GJd5gvycKT"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import os\nscript_dir = os.getcwd()  # Gets current working directory\npng_dir = os.path.join(script_dir, 'Biomass/')\n# Create directory if it doesn't exist\nos.makedirs(png_dir, exist_ok=True)\n\n# Define years to loop through\nyears = range(2018, 2021)  # you can adapt the range here according to data availability; if you want to include 2020, you need to end the range at 2021\n\nfor year in years:\n    print(f\"Processing year {year}...\")\n    \n    # Create timestep for biomass (yearly data)\n    timestep = f'{year}-01-01'\n    \n    # Load and extract the biomass data\n    biomass = biomass_sub[\"agb\"].sel(time=timestep, method='nearest').compute()\n    time_str = biomass_sub['time'].sel(time=timestep, method='nearest').dt.strftime('%Y').item()\n    lat = biomass_sub[\"lat\"]\n    lon = biomass_sub[\"lon\"]\n    \n    fig = plt.figure(figsize=(12, 6))\n    \n    # Create two axes with the same projection\n    ax = plt.axes(projection=ccrs.PlateCarree())\n  \n    # Plot biomass, mask the data and only use positive values\n    masked_biomass = np.ma.masked_where(biomass \u003c= 0, biomass)\n    mesh_biomass = ax.pcolormesh(\n        lon, lat, masked_biomass,\n        cmap=\"YlGn\", shading=\"auto\",\n        norm=plt.matplotlib.colors.LogNorm(vmin=1, vmax=np.nanpercentile(biomass, 99)) # avoid outliers to darken the colormap unneccessarily by using np.nanpercentile\n    )\n    # Hide grid lines \n    ax.grid(False)\n     # Add year label in upper-right corner\n    ax.text(\n        -50.9,-2.75, # define location for the text\n        str(year),\n        color='white',\n        fontsize=28,\n        fontweight='bold',\n        transform=ccrs.PlateCarree()\n    ) \n    # Save with year in filename\n    plt.savefig(os.path.join(png_dir, f'Biomass_{year}.png'), bbox_inches='tight')\n    plt.show() # show the plot below the cell\n    plt.close()  # Close figure to free memory\n    ","key":"iyVPd4B6d2"},{"type":"output","id":"Dn7QQVM3WhJJ1F_E6I3d3","data":[{"name":"stdout","output_type":"stream","text":"Processing year 2018...\n"},{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"ffe3cdfb5e3c357fac2b470a40b1b383","path":"/cci-notebook-viewers/build/ffe3cdfb5e3c357fac2b470a40b1b383.png"},"text/plain":{"content":"\u003cFigure size 1200x600 with 1 Axes\u003e","content_type":"text/plain"}}},{"name":"stdout","output_type":"stream","text":"Processing year 2019...\n"},{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"3006aa0d9ffde0a1b499f2967d96e12c","path":"/cci-notebook-viewers/build/3006aa0d9ffde0a1b499f2967d96e12c.png"},"text/plain":{"content":"\u003cFigure size 1200x600 with 1 Axes\u003e","content_type":"text/plain"}}},{"name":"stdout","output_type":"stream","text":"Processing year 2020...\n"},{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"0176ef06849ae63c873c6c0a58f7fecc","path":"/cci-notebook-viewers/build/0176ef06849ae63c873c6c0a58f7fecc.png"},"text/plain":{"content":"\u003cFigure size 1200x600 with 1 Axes\u003e","content_type":"text/plain"}}}],"key":"C3a2c4GtQm"}],"key":"x7KD9DT5CR"},{"type":"block","kind":"notebook-content","children":[{"type":"div","style":{"backgroundColor":"#e6f3ff","padding":"10px","borderLeft":"5px solid #e6f3ff"},"children":[],"key":"dJJiJ76MdX"},{"type":"heading","depth":3,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Create a Gif from the Pictures","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"LpyCTcGx2l"}],"identifier":"create-a-gif-from-the-pictures","label":"Create a Gif from the Pictures","html_id":"create-a-gif-from-the-pictures","implicit":true,"key":"Ry5cwKgyEc"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Next, we show you how to create a small animation from the produced pictures and save it as gif. This obviously only makes sense if you have produced several plots and saved them in one folder.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"lrjTqGqOrS"}],"key":"weomouHpra"}],"key":"wN52KW34jP"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from PIL import Image\nimport os\npng_dir = './Biomass/'\n\nimages = []\nfor filename in sorted(os.listdir(png_dir)):\n    if filename.endswith('.png'):\n        img = Image.open(os.path.join(png_dir, filename))\n        images.append(img)\n\nimages[0].save(\n    './biomass.gif',\n    save_all=True,\n    append_images=images[1:],\n    duration=500,  # milliseconds per frame adjust for your purpose\n    loop=0\n)","key":"C8yLlrBYgY"},{"type":"output","id":"ameI-UhXfRmXbD3N_t_R6","data":[],"key":"IyrC1dxQtg"}],"key":"SxmbiDxAlE"},{"type":"block","kind":"notebook-content","children":[{"type":"div","style":{"backgroundColor":"#e6f3ff","padding":"10px","borderLeft":"5px solid #e6f3ff"},"children":[{"type":"heading","depth":1,"children":[{"type":"text","value":"Land Cover","key":"zvaDjorGgp"}],"identifier":"land-cover","label":"Land Cover","html_id":"land-cover","implicit":true,"key":"JMBuwbojzZ"},{"type":"heading","depth":2,"children":[{"type":"text","value":"Load and Visualise the Land Cover Dataset","key":"U4xAhmht2B"}],"identifier":"load-and-visualise-the-land-cover-dataset","label":"Load and Visualise the Land Cover Dataset","html_id":"load-and-visualise-the-land-cover-dataset","implicit":true,"key":"QsDk0lc3Vj"},{"type":"paragraph","children":[{"type":"text","value":"Next, we are loading the land cover dataset. The procedure is the same as for the biomass data.","key":"wE2kAGS1Np"}],"key":"iWiTSc3VGG"},{"type":"paragraph","children":[{"type":"text","value":"The land cover classes and their colours are defined below and can be found in the 🔗 ","key":"pcuixkIi4T"},{"type":"link","url":"https://climate.esa.int/media/documents/CCI_Land_Cover_PUG_v2.0.pdf","children":[{"type":"text","value":"Product User Guide","key":"F1bFtLNXSb"}],"urlSource":"https://climate.esa.int/media/documents/CCI_Land_Cover_PUG_v2.0.pdf","key":"NZtl5U4hfe"},{"type":"text","value":".","key":"KipEpJV9om"}],"key":"rn19SdhvSj"},{"type":"heading","depth":3,"children":[{"type":"text","value":"Land Cover Classification System (LCCS) - the CCI-Land Cover legend","key":"Pkl0ANQXr8"}],"identifier":"land-cover-classification-system-lccs-the-cci-land-cover-legend","label":"Land Cover Classification System (LCCS) - the CCI-Land Cover legend","html_id":"land-cover-classification-system-lccs-the-cci-land-cover-legend","implicit":true,"key":"fd1cu3XXQ3"},{"type":"table","children":[{"type":"tableRow","children":[{"type":"tableCell","header":true,"children":[{"type":"text","value":"VALUE","key":"NnnJpiy6Oo"}],"key":"SsHvfWHHMt"},{"type":"tableCell","header":true,"children":[{"type":"text","value":"LCCS LABEL","key":"gys1FFJT0U"}],"key":"yyhC3NZIiA"}],"key":"B9v2tHkyyB"},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"10","key":"scYKoqmpxC"}],"key":"PvFJR9l4vb"},{"type":"tableCell","children":[{"type":"text","value":"Rainfed shrub crops // Rainfed tree crops // Rainfed herbaceous crops","key":"AQAefPrpqd"}],"key":"xsXYI8afXg"}],"key":"hrUdCSe8zH"},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"11","key":"E7bCThKsZ6"}],"key":"PZLrdSv8WB"},{"type":"tableCell","children":[{"type":"text","value":"Rainfed herbaceous crops","key":"L1e38RrtG8"}],"key":"Ed8cmsAssn"}],"key":"GVMbSXoCaj"},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"12","key":"knn363Is2N"}],"key":"yEhtCjZiYy"},{"type":"tableCell","children":[{"type":"text","value":"Rainfed shrub crops // Rainfed tree crops","key":"pOYLpIKhUk"}],"key":"cHCGyWItHH"}],"key":"JLRO86Z7XA"},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"20","key":"aup6hVVslu"}],"key":"tX0FAzNpAx"},{"type":"tableCell","children":[{"type":"text","value":"Irrigated tree crops // Irrigated shrub crops // Irrigated herbaceous crops // Post-flooding cultivation of herbaceous crops","key":"pLL2CgKgA8"}],"key":"lS10yMT8OZ"}],"key":"gyl5Py11s8"},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"30","key":"EE0OsI5EwM"}],"key":"LlJF09ALXA"},{"type":"tableCell","children":[{"type":"text","value":"Cultivated and managed terrestrial areas / Natural and semi-natural primarily terrestrial vegetation","key":"dqLdtDXuVj"}],"key":"xx4DN8QsLa"}],"key":"lXvcSnLCn0"},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"40","key":"orJaEclE2o"}],"key":"OwdE0YzVsf"},{"type":"tableCell","children":[{"type":"text","value":"Natural and semi-natural primarily terrestrial vegetation / Cultivated and managed terrestrial areas","key":"QBlA4PXqiu"}],"key":"ogYuInUHQk"}],"key":"tMsquSanmE"},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"50","key":"Ag6R2Fqenx"}],"key":"stbk6fkuXN"},{"type":"tableCell","children":[{"type":"text","value":"Broadleaved evergreen closed to open trees // Broadleaved semi-deciduous closed to open trees","key":"NX4HpzO6e7"}],"key":"i3n7wdydDI"}],"key":"X1z3YtLbpt"},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"60","key":"O7qBHocD8n"}],"key":"kjdJkOyiaH"},{"type":"tableCell","children":[{"type":"text","value":"Broadleaved deciduous closed to open trees","key":"ytvDO5RZWB"}],"key":"itwriZkATW"}],"key":"pT1Yj4YaiF"},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"61","key":"CJtpv0lmyQ"}],"key":"aYu5CWDec5"},{"type":"tableCell","children":[{"type":"text","value":"Broadleaved deciduous closed (100-40%) trees","key":"SCkAnS0L3W"}],"key":"Pvc907Oi2K"}],"key":"fdinjx3KmU"},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"62","key":"Wjn4222wCz"}],"key":"IZvcx8iS1h"},{"type":"tableCell","children":[{"type":"text","value":"Broadleaved deciduous open (40-(20-10)%) trees","key":"h56GxmSSyM"}],"key":"vz5NqsfZFn"}],"key":"yeqkKmV3ld"},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"70","key":"X2SYKPegaW"}],"key":"RhtK3szgwp"},{"type":"tableCell","children":[{"type":"text","value":"Needleleaved evergreen closed to open trees","key":"ETRwyys4MJ"}],"key":"oiQqD3o4ou"}],"key":"rUCJVN01R4"},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"71","key":"q4idz0a2Wq"}],"key":"OMBOTe5J33"},{"type":"tableCell","children":[{"type":"text","value":"Needleleaved evergreen closed (100-40%) trees","key":"xZu1IhQxxe"}],"key":"WbcxRlXNBw"}],"key":"HTRAIiVZPS"},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"72","key":"DHMRSL42dh"}],"key":"dpCyYJSGOe"},{"type":"tableCell","children":[{"type":"text","value":"Needleleaved evergreen open (40-(20-10)%) trees","key":"cl4iXOd6Jf"}],"key":"ifq3VF96Qs"}],"key":"fZDqSXMipe"},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"80","key":"nq3GgB1mOR"}],"key":"lv1hMg4kTE"},{"type":"tableCell","children":[{"type":"text","value":"Needleleaved deciduous closed to open trees","key":"FGMxu1UHer"}],"key":"b20CltfVfn"}],"key":"Cyur2bYicX"},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"81","key":"S1YtuZ9F5q"}],"key":"a6uMx3kFZ4"},{"type":"tableCell","children":[{"type":"text","value":"Needleleaved deciduous closed (100-40%) trees","key":"U3W0C4EzvV"}],"key":"cj5kTspIR9"}],"key":"dbzwbIIrm1"},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"82","key":"D0tZpo9wKh"}],"key":"LbzwujEdNF"},{"type":"tableCell","children":[{"type":"text","value":"Needleleaved deciduous open (40-(20-10)%) trees","key":"cf1ccvSTyU"}],"key":"QEIa3Sxxp8"}],"key":"dBmPl04Oio"},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"90","key":"mZfmlw3SPl"}],"key":"idq73B6bz3"},{"type":"tableCell","children":[{"type":"text","value":"Broadleaved closed to open trees / Needleleaved closed to open trees","key":"Ss6xcE2OWd"}],"key":"JhpbcWjpEf"}],"key":"Dx7FYS4yc6"},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"100","key":"is4TkdXdC1"}],"key":"MDmG6rfTi9"},{"type":"tableCell","children":[{"type":"text","value":"Closed to open trees / Closed to open shrubland (thicket) // Herbaceous closed to open vegetation","key":"ex7bKbBXGC"}],"key":"aEzp0TcPwI"}],"key":"jsxX0TkgKg"},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"110","key":"Wc52T4wm48"}],"key":"UVZasXQiF9"},{"type":"tableCell","children":[{"type":"text","value":"Herbaceous closed to open vegetation // Closed to open trees / Closed to open shrubland (thicket)","key":"am6y0l0IjQ"}],"key":"Hru66FyAsR"}],"key":"KJzAR2sa3o"},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"120","key":"C4FMtlJLoH"}],"key":"vqbqU9hyHj"},{"type":"tableCell","children":[{"type":"text","value":"Broadleaved closed to open shrubland (thicket)","key":"XMhDkbWc0r"}],"key":"lhP1Yv3pn2"}],"key":"SKgprmg1Ew"},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"121","key":"xeWJJhsJXS"}],"key":"VkZ27y12WE"},{"type":"tableCell","children":[{"type":"text","value":"Broadleaved Evergreen Closed to Open Thicket // Needleleaved Evergreen Closed to Open Thicket","key":"CcXRbnZcY5"}],"key":"YvO6tv38GN"}],"key":"EOhmhPFPJO"},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"122","key":"gbz5Gs5l46"}],"key":"EAx9sRTsnD"},{"type":"tableCell","children":[{"type":"text","value":"Broadleaved Deciduous Closed to Open Thicket // Needleleaved Deciduous Closed to Open Thicket","key":"L4Y5h5N3lB"}],"key":"dQtaGKqwNu"}],"key":"H5tQAzLfeL"},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"130","key":"HsEmLFlx0Q"}],"key":"Y7lcXfeY4h"},{"type":"tableCell","children":[{"type":"text","value":"Herbaceous closed to very open vegetation 21453 A2A20","key":"uc2Fbt6sEB"}],"key":"xrwNL3KwE4"}],"key":"xqkhxcg68V"},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"140","key":"m56w2j2CZ5"}],"key":"bw38isQNWA"},{"type":"tableCell","children":[{"type":"text","value":"Closed to open lichens/mosses","key":"c7CIct8ZcD"}],"key":"o0NhKGCrm1"}],"key":"GDGPWkYVcS"},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"150","key":"UomGQ9kXXi"}],"key":"cArORbgETs"},{"type":"tableCell","children":[{"type":"text","value":"Sparse trees // Herbaceous sparse vegetation // Sparse shrubs","key":"ZBlldg0mDW"}],"key":"uRv14tgeER"}],"key":"Px4XggFQ0m"},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"151","key":"Jmoy8ZyxnM"}],"key":"MP1aVRYfVF"},{"type":"tableCell","children":[{"type":"text","value":"Sparse Trees","key":"ezDHAn7nmh"}],"key":"ZaJBZbvzqZ"}],"key":"St85kXhDvZ"},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"152","key":"UMzg11YMJO"}],"key":"OdIA8Uhc7D"},{"type":"tableCell","children":[{"type":"text","value":"Sparse Shrubs","key":"UufcfaytkA"}],"key":"raEuVeS4eu"}],"key":"skcPhDSCwp"},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"153","key":"knOpCDT5Y9"}],"key":"gW3GPKrsEy"},{"type":"tableCell","children":[{"type":"text","value":"Herbaceous Sparse Vegetation","key":"dk7P1GJNoT"}],"key":"xCFmckj2UG"}],"key":"tEUTyRAWsR"},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"160","key":"Q3INuc85GN"}],"key":"U3Z9QyHJZp"},{"type":"tableCell","children":[{"type":"text","value":"Closed to open (100-40%) broadleaved trees on temporarily flooded land, water quality: fresh water // Closed to open (100-40%) broadleaved trees on permanently flooded land, water quality: fresh water","key":"qbBgkbIpnL"}],"key":"EMTf6LZiQm"}],"key":"EVyeUqJ2hU"},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"170","key":"YyHgaWLd3Y"}],"key":"DeUG12pmXS"},{"type":"tableCell","children":[{"type":"text","value":"Closed to open (100-40%) broadleaved trees on permanently flooded land (with daily variations), water quality: saline water // Closed to open (100-40%) broadleaved trees on permanently flooded land (with daily variations), water quality: brackish water // Closed to open (100-40%) semi-deciduous shrubland on permanently flooded land (with daily variations), water quality: saline water // Closed to open (100-40%) semi-deciduous shrubland on permanently flooded land (with daily variations), water quality: brackish water","key":"T4VxVFPWTe"}],"key":"S9GsjaM3kt"}],"key":"pM9omaSIdV"},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"180","key":"RIwsMgl0uQ"}],"key":"M0vJO0giWl"},{"type":"tableCell","children":[{"type":"text","value":"Closed to open shrubs on permanently flooded land // Closed to open herbaceous vegetation on permanently flooded land // Closed to open shrubs on temporarily flooded land // Closed to open herbaceous vegetation on temporarily flooded land // Closed to open shrubs on waterlogged soil // Closed to open herbaceous vegetation on waterlogged soil (Water quality: fresh, brackish or saline water)","key":"bH5zx9xsqS"}],"key":"SuLV8f8HYP"}],"key":"F8kYWIwglH"},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"190","key":"qEZ9bSBAqj"}],"key":"fDWzWDwftY"},{"type":"tableCell","children":[{"type":"text","value":"Artificial surfaces and associated areas","key":"H4PENn35pw"}],"key":"vDOhf3EOqT"}],"key":"MUnMF2z6M3"},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"200","key":"xsvXz8ttkn"}],"key":"McNBg9PZOA"},{"type":"tableCell","children":[{"type":"text","value":"Bare areas","key":"MFzzUwX4zU"}],"key":"c0BbiQ2cYw"}],"key":"Lo2cutAcHW"},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"201","key":"Q0i2rz48Ub"}],"key":"TZRWFPLrk6"},{"type":"tableCell","children":[{"type":"text","value":"Consolidated Material(s)","key":"GbvdPmUoJi"}],"key":"SUi0zhEANW"}],"key":"EgKDKu1DQR"},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"202","key":"PF3SOiwYZK"}],"key":"BCRwuFjUDd"},{"type":"tableCell","children":[{"type":"text","value":"Unconsolidated Material(s)","key":"QfPPgHD3rK"}],"key":"VyJ7FX0Hi9"}],"key":"kUTI7okYzB"},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"210","key":"txZAhHs5Ol"}],"key":"OLCVA3nlSy"},{"type":"tableCell","children":[{"type":"text","value":"Natural water bodies // Artificial water bodies","key":"g8yfN395Bz"}],"key":"aNVCmbOGDh"}],"key":"u3OrqAHoQ7"},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"220","key":"Hi4tTFzSXM"}],"key":"ZBDKWCGZtn"},{"type":"tableCell","children":[{"type":"text","value":"Artificial perennial snow // Artificial perennial ice // Perennial snow // Perennial ice","key":"iPbOKwFcu4"}],"key":"tCyvqbO3d2"}],"key":"zo96QXV1BW"}],"key":"EMMl8y4U4y"},{"type":"paragraph","children":[{"type":"text","value":"Next, we define the class IDs, their names and the correct colours for the plotting.","key":"iFHlDONLu3"}],"key":"Lo5HrdFjum"}],"key":"UU93btWS1N"}],"key":"x3KzURX0sU"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Define the LCCS colours according to their ID and names\nclass_ids = [\n    10, 11, 12, 20, 30, 40,           # Cultivated areas\n    50, 60, 61, 62,                  # Broadleaved trees\n    70, 71, 72,                      # Needleleaved evergreen trees\n    80, 81, 82,                      # Needleleaved deciduous trees\n    90, 100, 110,                    # Mixed vegetation\n    120, 121, 122,                   # Shrubland\n    130, 140,                        # Herbaceous and lichens/mosses\n    150, 151, 152, 153,              # Sparse vegetation\n    160, 170, 180,                   # Aquatic vegetation\n    190,                             # Artificial surfaces\n    200, 201, 202,                   # Bare areas\n    210, 220                         # Water bodies, snow and ice\n]\nclass_names = [\n    \"Rainfed crops\",                                   # 10\n    \"Rainfed herbaceous crops\",                        # 11\n    \"Rainfed shrub/tree crops\",                        # 12\n    \"Irrigated crops\",                                 # 20\n    \"Cropland/Natural vegetation mosaic\",              # 30\n    \"Natural vegetation/Cropland mosaic\",              # 40\n    \"Broadleaved evergreen/semi-deciduous trees\",      # 50\n    \"Broadleaved deciduous trees\",                     # 60\n    \"Broadleaved deciduous closed trees\",              # 61\n    \"Broadleaved deciduous open trees\",                # 62\n    \"Needleleaved evergreen trees\",                    # 70\n    \"Needleleaved evergreen closed trees\",             # 71\n    \"Needleleaved evergreen open trees\",               # 72\n    \"Needleleaved deciduous trees\",                    # 80\n    \"Needleleaved deciduous closed trees\",             # 81\n    \"Needleleaved deciduous open trees\",               # 82\n    \"Mixed broadleaved/needleleaved trees\",            # 90\n    \"Mixed trees/shrubland/herbaceous\",                # 100\n    \"Herbaceous/trees/shrubland\",                      # 110\n    \"Shrubland\",                                       # 120\n    \"Evergreen shrubland\",                             # 121\n    \"Deciduous shrubland\",                             # 122\n    \"Grassland\",                                       # 130\n    \"Lichens and mosses\",                              # 140\n    \"Sparse vegetation\",                               # 150\n    \"Sparse trees\",                                    # 151\n    \"Sparse shrubs\",                                   # 152\n    \"Sparse herbaceous\",                               # 153\n    \"Flooded trees (fresh water)\",                     # 160\n    \"Flooded trees (saline/brackish water)\",           # 170\n    \"Flooded shrubs/herbaceous\",                       # 180\n    \"Urban areas\",                                     # 190\n    \"Bare areas\",                                      # 200\n    \"Consolidated bare areas\",                         # 201\n    \"Unconsolidated bare areas\",                       # 202\n    \"Water bodies\",                                    # 210\n    \"Snow and ice\"                                     # 220\n]\n\ncolors = [\n    \"#ffff64\", \"#90ee90\", \"#228b22\", \"#ffd700\",        # Crops (10-12, 20)\n    \"#daa520\", \"#b8860b\",                              # Crop mosaics (30, 40)\n    \"#006400\", \"#228b22\", \"#32cd32\", \"#7cfc00\",        # Broadleaved trees (50, 60-62)\n    \"#2f4f4f\", \"#708090\", \"#778899\",                   # Needleleaved evergreen (70-72)\n    \"#8b4513\", \"#a0522d\", \"#cd853f\",                   # Needleleaved deciduous (80-82)\n    \"#556b2f\", \"#6b8e23\", \"#9acd32\",                   # Mixed/shrubland (90, 100, 110)\n    \"#d2691e\", \"#ff8c00\", \"#ffa500\",                   # Shrubland (120-122)\n    \"#adff2f\", \"#bdb76b\",                              # Grassland, lichens (130, 140)\n    \"#f5deb3\", \"#deb887\", \"#d2b48c\", \"#bc8f8f\",        # Sparse vegetation (150-153)\n    \"#4682b4\", \"#5f9ea0\", \"#20b2aa\",                   # Wetlands (160, 170, 180)\n    \"#dc143c\",                                         # Urban (190)\n    \"#f5f5dc\", \"#fff8dc\", \"#faebd7\",                   # Bare areas (200-202)\n    \"#4169e1\", \"#ffffff\"                               # Water, snow/ice (210, 220)\n]\n","key":"Js6haptMaZ"},{"type":"output","id":"pJc-a4_JntFryDjIB4O0u","data":[],"key":"HeIll3BcOz"}],"key":"ll3IsEVWci"},{"type":"block","kind":"notebook-content","children":[{"type":"div","style":{"backgroundColor":"#e6f3ff","padding":"10px","borderLeft":"5px solid #e6f3ff"},"children":[{"type":"text","value":"Now let's load the dataset and build the subset for the defined bbox.","key":"eRdqiOEMh7"}],"key":"GYTjPDMYGV"}],"key":"LPBCGoPCF7"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Land Cover data ID\ndata_id = 'ESACCI-LC-L4-LCCS-Map-300m-P1Y-1992-2015-v2.0.7b.zarr' \n\nlc_ds = cci_zarr_store.open_data(\n    data_id = data_id\n)\n# Building the subset \nsubset_spatial_op = get_op('subset_spatial')\nlc_sub = subset_spatial_op(ds=lc_ds, region=bbox)","key":"VSlAatM9jq"},{"type":"output","id":"YDzFJK81VRiqvuK5Kkoso","data":[],"key":"lnMrhIsvT8"}],"key":"fAkAYnV16d"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Define years to loop through\nyears = range(2018, 2021)  # adapt as needed\ncmap = ListedColormap(colors)\n\nfor year in years:\n    print(f\"Processing year {year}...\")\n    \n    # Create timestep for biomass (yearly data)\n    timestep = f'{year}-01-01'\n    \n    # Load and extract the biomass data\n    lc = lc_sub[\"lccs_class\"].sel(time=timestep, method='nearest').compute()\n    time_str = lc_sub['time'].sel(time=timestep, method='nearest').dt.strftime('%Y').item()\n    lat = lc_sub[\"lat\"]\n    lon = lc_sub[\"lon\"]\n    \n    fig = plt.figure(figsize=(12, 6))\n    \n    # Create two axes with the same projection\n    ax = plt.axes(projection=ccrs.PlateCarree())\n  \n    # Plot lc on first axis\n    mesh_biomass = ax.pcolormesh(\n        lon, lat, lc,\n        cmap=cmap, shading=\"auto\",\n    )\n    # Hide grid lines\n    ax.grid(False)\n     # Add year label in upper-right corner\n    # Add year label in upper-right corner\n    ax.text(\n        -50.9,-2.75, # define location for the text\n        str(year),\n        color='white',\n        fontsize=28,\n        fontweight='bold',\n        transform=ccrs.PlateCarree()\n    )  \n    \n    # Add custom legend\n    from matplotlib.patches import Patch\n    # Find the unique land cover classes in the current plotted area to reduce the legend entries\n    visible_classes = np.unique(lc.values)\n\n    # Build legend only for classes present in the plot\n    legend_handles = [\n        Patch(color=colors[class_ids.index(cid)], label=class_names[class_ids.index(cid)])\n        for cid in visible_classes if cid in class_ids\n    ]\n    \n    #ax.legend(handles=legend_handles, bbox_to_anchor=(1, 1), loc=\"upper right\", ncol=2,fontsize=8)\n    plt.show()\n        \n    # Save with year in filename\n    #plt.savefig(f'./LandCover_{year}.png', bbox_inches='tight')\n    #plt.close()  # Close figure to free memory\n   ","key":"fdI7pDADJF"},{"type":"output","id":"Ym5MYPdswveGrVGec0mcc","data":[{"name":"stdout","output_type":"stream","text":"Processing year 2018...\n"},{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"39fe9b0631c4fc51bc559c9141e53fba","path":"/cci-notebook-viewers/build/39fe9b0631c4fc51bc559c9141e53fba.png"},"text/plain":{"content":"\u003cFigure size 1200x600 with 1 Axes\u003e","content_type":"text/plain"}}},{"name":"stdout","output_type":"stream","text":"Processing year 2019...\n"},{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"112ae2bce663ea908f8d2ad818acaa37","path":"/cci-notebook-viewers/build/112ae2bce663ea908f8d2ad818acaa37.png"},"text/plain":{"content":"\u003cFigure size 1200x600 with 1 Axes\u003e","content_type":"text/plain"}}},{"name":"stdout","output_type":"stream","text":"Processing year 2020...\n"},{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"22e37d2be558f21f9412c2bc82f05811","path":"/cci-notebook-viewers/build/22e37d2be558f21f9412c2bc82f05811.png"},"text/plain":{"content":"\u003cFigure size 1200x600 with 1 Axes\u003e","content_type":"text/plain"}}}],"key":"pr8K7TqhpV"}],"key":"qOv7aOKUlg"},{"type":"block","kind":"notebook-content","children":[{"type":"div","style":{"backgroundColor":"#F5D6AD","padding":"10px","borderRadius":"5px"},"children":[{"type":"heading","depth":2,"children":[{"type":"text","value":"Load Other Essential Climate Variables","key":"zoZHLyeFyg"}],"identifier":"load-other-essential-climate-variables","label":"Load Other Essential Climate Variables","html_id":"load-other-essential-climate-variables","implicit":true,"key":"dwhzqm1JhR"},{"type":"paragraph","children":[{"type":"text","value":"Below is a list of datafiles you can use for other ECVs which might be of interest when looking at biomass loss. If you need inspiration or tipps on how to visualise the parameters, you can have a look at the individual Jupyter Notebooks for each ECV either in the Example Explorer or on 🔗 ","key":"gNe4HEQPxD"},{"type":"link","url":"https://github.com/esa-cci/cci-notebooks/tree/main/notebooks","children":[{"type":"text","value":"GitHub","key":"HIfwNQI872"}],"urlSource":"https://github.com/esa-cci/cci-notebooks/tree/main/notebooks","error":true,"key":"ptp0rLbFnl"},{"type":"text","value":".","key":"vDjoKBdYNm"}],"key":"VnMXwjqMzh"},{"type":"heading","depth":3,"children":[{"type":"text","value":"Fire","key":"B56vnrANFe"}],"identifier":"fire","label":"Fire","html_id":"fire","implicit":true,"key":"bVafU4rZ3i"},{"type":"paragraph","children":[{"type":"inlineCode","value":"data_id = 'ESACCI-L4_FIRE-BA-MODIS-2001-2022-fv5.1.zarr'","key":"RlGPJiiQ1b"}],"key":"pVeQbLyqra"},{"type":"heading","depth":3,"children":[{"type":"text","value":"Clouds","key":"kiDrPHpTRW"}],"identifier":"clouds","label":"Clouds","html_id":"clouds","implicit":true,"key":"NxygbFw5jn"},{"type":"paragraph","children":[{"type":"inlineCode","value":"data_id = 'ESACCI-L3C_CLOUD-CLD_PRODUCTS-AVHRR_NOAA-1982-2016-fv3.0.zarr'","key":"VgiphHSS1B"}],"key":"xWmfaMA6pD"},{"type":"heading","depth":3,"children":[{"type":"text","value":"Land Surface Temperature (LST)","key":"MVJ20sVdsE"}],"identifier":"land-surface-temperature-lst","label":"Land Surface Temperature (LST)","html_id":"land-surface-temperature-lst","implicit":true,"key":"lKmK1LV7yg"},{"type":"paragraph","children":[{"type":"inlineCode","value":"data_id = 'ESACCI-LST-L3S-LST-IRCDR_-0.01deg_1MONTHLY_DAY-1995-2020-fv3.00.zarr'","key":"wO4rmnEXPg"}],"key":"PZjXc2ERfb"},{"type":"heading","depth":3,"children":[{"type":"text","value":"Greenhouse Gases (GHG) - CO2","key":"Dt0FlBscuP"}],"identifier":"greenhouse-gases-ghg-co2","label":"Greenhouse Gases (GHG) - CO2","html_id":"greenhouse-gases-ghg-co2","implicit":true,"key":"nCQ7XKXnkv"},{"type":"paragraph","children":[{"type":"inlineCode","value":"data_id = 'ESACCI-GHG-L2-CO2-SCIAMACHY-WFMD-2002-2012-fv1.zarr'","key":"Hrb2ClpZH7"}],"key":"Jg1FvzU6KL"},{"type":"heading","depth":3,"children":[{"type":"text","value":"Water Vapour","key":"PeikqZN354"}],"identifier":"water-vapour","label":"Water Vapour","html_id":"water-vapour","implicit":true,"key":"H8c4Y5GZJj"},{"type":"paragraph","children":[{"type":"inlineCode","value":"data_id = 'ESACCI-WATERVAPOUR-L3C-TCWV-meris-005deg-2002-2017-fv3.2.zarr'","key":"n27Sw6pi7u"}],"key":"peeX55EpyA"}],"key":"kD9DIMrBbz"}],"key":"KV6u2Jvzpe"}],"key":"hFgkh9pvkQ"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"ect-training","url":"/external-notebooks/esa-cci/ect-training/readme","group":"Ect Training"},"next":{"title":"Step 1. Setup \u0026 Imports","url":"/external-notebooks/esa-cci/ect-training/lps-vienna-06-2025/lps-beginner","group":"Lps Vienna 06 2025"}}},"domain":"http://localhost:3000"},"project":{"subject":"CCI Examples","title":"CCI Examples","description":"Collection of examples relevant to the CCI activity","github":"https://github.com/esa-cci/cci-notebook-viewers","id":"5aa0318b-5bc1-41e2-b1d4-053e8b61961b","exports":[],"bibliography":[],"index":"readme","pages":[{"title":"External Notebooks","level":1},{"title":"Esa Cci","level":2},{"title":"Cci Notebooks","level":3},{"slug":"external-notebooks.esa-cci.cci-notebooks.readme","title":"cci-notebooks","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Notebooks","level":4},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.aerosol-cci","title":"Getting Started with Aerosol CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.biomass-cci","title":"Getting Started with Biomass CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.cloud-cci","title":"Getting Started with Cloud CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.fire-cci","title":"Getting Started with Fire CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.ghg-cci","title":"Getting Started with Greenhouse Gases CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.icesheets-cci","title":"Getting Started with Ice Sheets CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.lakes-cci","title":"Getting Started with Lakes CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.landcover-cci","title":"Getting Started with Land Cover CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.lst-cci","title":"Getting Started with Land Surface Temperature CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.oceancolour-cci","title":"Getting Started with Ocean Colour CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.ozone-cci","title":"Getting Started with Ozone CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.permafrost-cci","title":"Getting Started with Permafrost CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.seaice-cci","title":"Getting Started with Sea Ice CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.sealevel-cci","title":"Getting Started with Sea Level CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.snow-cci","title":"Getting Started with Snow CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.soilmoisture-cci","title":"Getting Started with Soil Moisture CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.sss-cci","title":"Getting Started with Sea Surface Salinity CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.sst-cci","title":"Getting Started with Sea Surface Temperature CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.vegetation-cci","title":"Getting Started with Vegetation CCI Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.cci-notebooks.notebooks.watervapour-cci","title":"Getting Started with Water Vapour CCI Data","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"title":"Ect Training","level":3},{"slug":"external-notebooks.esa-cci.ect-training.readme","title":"ect-training","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"ESA Climate Change Competition","level":4},{"slug":"external-notebooks.esa-cci.ect-training.esa-climate-change-competition.competition-forests-in-a-changing-climate","title":"Explore forests in a changing climate with the ESA CCI datasets","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/0c8875bc8759d8e556047e98366f9196.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"title":"Lps Vienna 06 2025","level":4},{"slug":"external-notebooks.esa-cci.ect-training.lps-vienna-06-2025.lps-beginner","title":"Step 1. Setup \u0026 Imports","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/3367d0fe69599d226222995bf18e04c0.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.ect-training.lps-vienna-06-2025.lps-cloud-uncertainties","title":"1. Import Necessary Packages","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/3367d0fe69599d226222995bf18e04c0.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"slug":"external-notebooks.esa-cci.ect-training.lps-vienna-06-2025.lps-intermediate-level-elnino","title":"Questions We Aim to Explore","description":"","date":"","thumbnail":"/cci-notebook-viewers/build/3367d0fe69599d226222995bf18e04c0.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"title":"Lst Leicester 12 2024","level":4},{"slug":"external-notebooks.esa-cci.ect-training.lst-leicester-12-2024.lst-training","title":"Analyzing Land Surface Temperature and Uncertainties: Insights from ESA CCI Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5}]}}},"actionData":null,"errors":null},"future":{"unstable_dev":false,"unstable_postcss":false,"unstable_tailwind":false,"v2_errorBoundary":true,"v2_headers":true,"v2_meta":true,"v2_normalizeFormMethod":true,"v2_routeConvention":true}};</script><script type="module" async="">import "/cci-notebook-viewers/build/manifest-ED236704.js";
import * as route0 from "/cci-notebook-viewers/build/root-ZJOPFBMV.js";
import * as route1 from "/cci-notebook-viewers/build/routes/$-CQPS5IOR.js";
window.__remixRouteModules = {"root":route0,"routes/$":route1};

import("/cci-notebook-viewers/build/entry.client-UNPC4GT3.js");</script></body></html>